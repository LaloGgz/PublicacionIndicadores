@using Indicadores.Models.Extensions
<input type="hidden" id="Porcentaje" />
<script src="~/Scripts/Indicadores/CalendarioLista.js"></script>
<div class="container">
    <input type="checkbox" id="porcentaje" hidden="hidden" />
    <div class="col-lg-12">
        <div class="card">
            <div class="card-header text-center">
                <div class="col-md-12" style="background-color: #e4dcd7; color: #484441;padding:10px 50px 10px 50px">
                    <label for="recipient-name" class="col-form-label">Indicadores</label>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4" style="padding:10px 50px 10px 50px;">
                    <select id="idcategoria" class="form-control" style="display:none;"></select>
                </div>
                <div class="col-md-4 btnnuevo" style="padding:10px 50px 10px 50px;">
                    <a>
                        <button type="button" style="width:100%;" id="btnnuevo" onclick="Nuevo(2)" class="btn btn-success btnnuevo">Nuevo</button>
                    </a>
                </div>
                <div class="col-md-4" style="padding:10px 50px 10px 50px;">
                </div>
            </div>
            <div class="card-header text-center">
                <div class="col-md-12" style="background-color: #e4dcd7; color: #484441;padding:10px 50px 10px 50px">
                    <label for="recipient-name" class="col-form-label">Filtros de busqueda:</label>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6" style="padding:10px 50px 10px 50px">
                    <label for="recipient-name" class="col-form-label">Secretaría:</label>
                    <select class="form-control idsecretaria" id="loadsecretaria"></select>
                </div>
                <div class="col-md-6 " style="padding:10px 50px 10px 50px;">
                    <label for="recipient-name" class="col-form-label">Programa presupuestario:</label>
                    @Html.DropDownList("idpp", ViewBag.idpp as SelectList, "Mostar todas", new { @id = "idpp", @class = "form-control" })
                </div>
            </div>
            <div class="col-md-12" style="padding:10px 50px 10px 50px;font-size:11px; overflow:scroll;">
                <table id="demodata" class=" table-bordered" style="text-align:left;border:1px solid #73879C;width:105%;">
                    <thead>
                        <tr style="text-align:center;">
                            <th>Folio</th>
                            <th>Botones</th>
                            <th>Dirección</th>
                            <th>Indicador</th>
                            <th>Categoría</th>
                            <th>Meta</th>
                            <th style="padding-left:10px;padding-right:10px;">Unidad de medida</th>
                            <th style="padding-left:10px;padding-right:10px;" id="spanrealizado">   </th>
                            <th style="padding-left:10px;padding-right:10px;" id="spanprogramado"> </th>
                            <th style="padding-left:10px;padding-right:10px;">% Avance al mes reportado</th>
                            <th style="padding-left:10px;padding-right:10px;">% Avance vs meta anual</th>
                            <th>Semaforización</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@section Scripts
{

    <link href="~/css/dataTables.bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/2.2.9/css/responsive.bootstrap.min.css">
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>

    <script>
        var spanrealizado = document.getElementById('spanrealizado');
        var spanprogramado = document.getElementById('spanprogramado');
        const monthNames = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
        const d = new Date();
        spanrealizado.innerHTML += "Realizado a " + monthNames[d.getMonth()] + " " + d.getFullYear();
        spanprogramado.innerHTML += "Programado a " + monthNames[d.getMonth()] + " " + d.getFullYear();
    $(document).ready(function ()
    {
        //$("#exportar").click(function ()
        //{
        //    window.location =pathserver+ '/Calendario/ExportarPp';
        //});

        // $(".btnnuevo").hide();
        $(".meses").keyup(function ()
        {
            var valormeta =$("#meta").val();
            if (valormeta.includes("%"))
            {
                $('#porcentaje').prop('checked', true);
            }

            else
            {
                $('#porcentaje').prop('checked', false);
                var textbox = parseFloat($("#" + this.id).val().replace(/,/g, ""));
                if (Number.isNaN(textbox) || textbox == "NaN" || textbox == "" || textbox == "null")
                {
                    textbox="0";
                    $("#" + this.id).val(textbox);
                }
                else
                {
                    $("#" + this.id).val(textbox.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                }
            }
        });

        $("#idcategoria").change(function () {
            $(".btnnuevo").show();
        });

        $("#idpp").change(function () {
            DemoDatatable();
        });

        $("#loadsecretaria").change(function ()
        {
            DemoDatatable();
        });

        CargaSecretarias();
        GetEjes();
        CargaCategoria();
    });

    DemoDatatable();

    function DemoDatatable()
    {
        $("#demodata").DataTable({
            "processing": true,
            "serverSide": true,
            "language": {
                "url": "@Url.Content("~/Scripts/Datatable/datatable.spanish.js")"
            },
            "filter": true,
            "orderMulti": false,
            "destroy": true,
            "ordering": true,
            "orderFixed": {
                "post": [ 2, 'asc' ]
            },
            "ajax": {

                "url": '@Url.Action("GetTableDataPp", "Calendario")',
                "type": "POST",
                "datatype": "json"
            },
            "columns": [
              //  { "data": "idcalendario", "name": "idcalendario", className : "idcal" },
               {
                   data: null,
                   className: "Folio",
                   render: function (data, type, row, meta)
                   {
                       var table = "";
                       const d = new Date();
                       if (data.MesCurso==null || data.MesCurso=="")
                       {
                           if (data.Captura==1)
                           {
                               table = "<span  style=''  title='No se ha reportado avance'>" + data.contador + "  <i class='fa fa-exclamation-circle' style='color:#EB984E;'></i></span>";
                           }
                           else
                           {
                               table = "<span  style=''  title='No hay avance que reportar'>" + data.contador + "  <i class='fa fa-clock-o' style='color:#57B36F;'></i></span>";
                           }
                       }
                       else
                       {
                           table = "<span  style=''  title=''>" + data.contador + "  <i class='fa fa-check-circle' style='color:green;'></i></span>";
                       }
                       return table;
                   }
               },
                {
                    data: null,
                    className: "tab-1 botones",
                    render: function (data, type, row, meta)
                    {
                        var cambio = '';
                        var Plantilla = "";
                        var Delete = '<a  data-target="#basic" data-toggle="modal" onclick="GetId(' + data.idcalendario + ')" class="btnactivo" title="Borrar" style="cursor: pointer;font-size: 16px;"><i class="fa fa-trash"></i></a>&nbsp; ';
                        var Valida = "";
                        var Ficha = "";
                        var detalle = "";
                        var chart = '';
                        var Vista = '';
                        if (data.idestatus == 3)
                        {
                            chart = '<a onclick="openNav(\'' + data.idcalendario + '\' )" style="cursor: pointer;font-size: 16px;font-weight:bold;" title="Ver gráfica de avance" ><i class="fa fa-bar-chart"></i>  </a>&nbsp;';
                            if (data.porcentaje == 1)
                            {
                                    Plantilla = '   <a onclick="popup(\'' + data.idcalendario + '\' , \'En\')" style="cursor: pointer;font-size: 15px;font-weight:bold;" title="Reporte avance mensual" ><i class="fa fa-reorder"></i> </a>&nbsp;';
                            }
                            else
                            {
                                    Plantilla = '   <a onclick="popup(\'' + data.idcalendario + '\' , \'En\')" style="cursor: pointer;font-size: 15px;font-weight:bold;" title="Calendario" ><i class="fa fa-reorder"></i> </a>&nbsp;';
                            }

                            Ficha = '   <a onclick="VerPdf(\'' + data.code + '\')" style="cursor: pointer;font-size: 15px;font-weight:bold;" title="Ver ficha de indicador" ><i class="fa fa-file-pdf-o"></i> </a>&nbsp;';
                            detalle = '   <a onclick="VerDetalle(\'' + data.idcalendario + '\')" style="cursor: pointer;font-size: 15px;font-weight:bold;" title="Ver cantidades reportadas" ><i class="fa fa-table"></i> </a>&nbsp;';

                            if (data.cambio == null)
                            {
                                cambio = '<a onclick="EnviarSolicitud(\'' + data.codigo + '\' )" style="cursor: pointer;font-size: 15px;font-weight:bold;" title="Solicitar cambio" ><i class="fa fa-send"></i> </a>&nbsp;';
                            }
                            else if(data.cambio == false)
                            {
                                cambio= '<a onclick="VerComentario(\'' + data.codigo + '\' )" style="cursor: pointer;font-size: 16px;font-weight:bold;" title="Cambio" ><i class="fa fa-comment"></i> </a>&nbsp;';
                            }
                            else if(data.cambio == true)
                            {
                                cambio= '<a onclick="VerPlnatilla(\'' + data.codigo + '\' )" style="cursor: pointer;font-size: 16px;font-weight:bold;" title="Cambio" ><i class="fa fa-edit"></i> </a>&nbsp;';
                            }

                            if (@User.Identity.GetIdGrupo() ==3)
                            {
                                Plantilla="";
                                cambio = "";
                                Vista = "";
                                Valida = "Validado";
                                Ficha = "";
                                detalle = "";
                                chart = "";
                            }
                                else if (@User.Identity.GetIdGrupo() ==4)
                            {
                                Plantilla="";
                                cambio = "";
                                Vista = "";
                                Valida = "Validado";
                                Ficha = "";
                                detalle = "";
                                chart = "";
                            }
                        }
                        else if (data.idestatus == 2)
                        {
                            if (@User.Identity.GetIdGrupo()== 3)
                            {
                                Valida = '<a  onclick="ValidaFicha(\'' + data.codigo + '\', \'3\')" class="btnactivo" title="Validar" style="cursor: pointer;font-size: 16px;"><i class="fa fa-check-circle"></i></a>&nbsp;&nbsp;&nbsp; ';
                                Vista = '<a  onclick="Vista(\'' + data.codigo + '\' )" class="btnactivo" title="Ver Ficha" style="cursor: pointer;font-size: 16px;"><i class="fa fa-eye"></i></a>&nbsp;&nbsp;&nbsp; ';
                            }
                            else
                            {
                                Valida = 'Revisado';
                                Vista = '';
                            }
                        }
                        else if (data.idestatus == 7 || data.idestatus == 1)
                        {

                            if (@User.Identity.GetIdGrupo()== 5 ) {
                                Ficha = '<a onclick="Ficha(\'' + data.codigo + '\')" style="cursor: pointer;font-size: 16px;" title="Editar ficha" ><i class="fa fa-file-text"></i> </a>&nbsp;';

                            }
                            else if (  @User.Identity.GetIdGrupo()== 4) {
                                Valida = '<a  onclick="ValidaFicha(\'' + data.codigo + '\', \'2\')" class="btnactivo" title="Revisado" style="cursor: pointer;font-size: 16px;"><i class="fa fa-check-circle"></i></a>&nbsp;&nbsp;&nbsp; ';
                                Vista = '<a  onclick="Vista(\'' + data.codigo + '\' )" class="btnactivo" title="Ver Ficha" style="cursor: pointer;font-size: 16px;"><i class="fa fa-eye"></i></a>&nbsp;&nbsp;&nbsp; ';
                            }
                            else if (  @User.Identity.GetIdGrupo()== 3) {
                                Valida = 'Capturado';
                                Vista = '';
                            }
                            else if (@User.Identity.GetIdGrupo()<= 2)
                            {
                                Ficha = '<a onclick="Ficha(\'' + data.codigo + '\')" style="cursor: pointer;font-size: 16px;" title="Editar ficha" ><i class="fa fa-file-text"></i> </a>&nbsp;';

                                Valida = '<a  onclick="ValidaFicha(\'' + data.codigo + '\', \'3\')" class="btnactivo" title="Validar" style="cursor: pointer;font-size: 16px;"><i class="fa fa-check-circle"></i></a>&nbsp;&nbsp;&nbsp; ';

                            }
                        }
                        var arbol = '<a onclick="Arbol(\'' + data.idarbol + '\' ,\'' + data.idcategoria + '\')" style="cursor: pointer;font-size: 16px;font-weight:bold;" title="Arbol de objetivos" ><i class="fa fa-sitemap"></i> </a>&nbsp;';
                        var editarbol = '<a onclick="EditArbol(\'' + data.idarbol + '\' ,\'' + data.idcategoria + '\')" style="cursor: pointer;font-size: 16px;font-weight:bold;color:red;" title="Arbol de problemas" ><i class="fa fa-sitemap"></i> </a>&nbsp;';

                        return  editarbol+arbol+ Vista+Valida +Ficha +Plantilla;

                    }
                },
                { "data": "abrev", "name": "abrev", className: "pad Direccion" },
                { "data": "actividad", "name": "actividad", className: "pad Indicador" },
                {
                    data: null,
                    className: "tab-1 Categ",
                    render: function (data, type, row, meta) {
                        if (data.orden.toString().length == 1) {
                            var Componente = data.orden.toString()
                            if (parseFloat(Componente) > 2) {
                                Componente = parseFloat(Componente) - 2;
                            }
                            else {
                                Componente = "";
                            }
                            table = "<div  >" + data.categoria + " " + Componente + "</div>";
                        }
                        else {
                            var ord = data.orden.toString().substring(1, 2);
                            var Componente = data.orden.toString().substring(0, 1);
                            Componente = parseFloat(Componente) - 2;
                            table = "<div  >" + data.categoria + " " + Componente + "." + ord + "</div>";
                        }
                        return table;
                    }
                },
                {
                    data: null,
                    className: "tab-1 Meta",
                    render: function (data, type, row, meta) {
                        var metavalor = data.metavalor.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");

                        if (data.porcentaje == 1) {

                            table = "<div  >" + metavalor + "%</div>";
                        }
                        else {

                            table = "<div  >" + metavalor + "</div>";
                        }

                        return table;
                    }
                },
                { "data": "unidadmedidavalor", "name": "unidadmedidavalor", className: "tab-1 Unidad" },
                {
                    data: null,
                    className: "tab-1 Realizado",
                    render: function (data, type, row, meta) {
                        if (data.av1r == null) {
                            var table = "";
                            table = "<div style='background-color:#ff6961; color:white;'></div>";

                            return table;
                        }
                        else {
                            var v1r = data.av1r.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");

                            if (data.porcentaje == 1) {

                                table = "<div >" + v1r + "</div>";
                            }
                            else {

                                table = "<div  >" + v1r + "</div>";
                            }

                            return table;
                        }

                    }
                },
                {
                    data: null,
                    className: "tab-1 Realizado",
                    render: function (data, type, row, meta) {
                        if (data.av2p == null) {
                            var table = "";
                            table = "<div style='background-color:#ff6961; color:white;'></div>";

                            return table;
                        }
                        else {
                            var v2p = data.av2p.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");

                            if (data.porcentaje == 1) {

                                table = "<div  >" + v2p + "</div>";
                            }
                            else {

                                table = "<div  >" + v2p + "</div>";
                            }

                            return table;
                        }

                    }
                },
                {
                    data: null,
                    className: "tab-1 Avance",
                    render: function (data, type, row, meta) {
                        if (data.avanceanio == null) {
                            var table = "";
                            table = "<div style='background-color:#ff6961; color:white;'></div>";

                            return table;
                        }
                        else {

                            var avance = data.avancemesrep.replace("%", "");
                            avance = parseFloat(avance);
                            var table = "";
                            if (avance >= 80) {

                                table = "<div style='background-color:#;color:black; width:100%'>" + avance + "%</div>";
                            }
                            else if (avance > 50 && avance < 80) {

                                table = "<div style='background-color:#;color:black;'>" + avance + "%</div>";
                            }
                            else if (avance <= 50) {

                                table = "<div style='background-color:#; color:black;'>" + avance + "%</div>";
                            }
                            return table;
                        }

                    }
                },
                {
                    data: null,
                    className: "tab-1 Avance",
                    render: function (data, type, row, meta) {
                        if (data.avanceanio == null) {
                            var table = "";
                            table = "<div style='background-color:#ff6961; color:white;'></div>";

                            return table;
                        }
                        else {

                            var avance = data.avanceanio.replace("%", "");
                            avance = parseFloat(avance);
                            var table = "";
                            if (avance >= 80) {

                                table = "<div style='background-color:#;color:black; width:100%'>" + avance + "%</div>";
                            }
                            else if (avance > 50 && avance < 80) {

                                table = "<div style='background-color:#;color:black;'>" + avance + "%</div>";
                            }
                            else if (avance <= 50) {

                                table = "<div style='background-color:#; color:black;'>" + avance + "%</div>";
                            }
                            return table;
                        }

                    }
                }
                ,
                {
                    data: null,
                    className: "tab-1 Avance",
                    render: function (data, type, row, meta) {
                        if (data.avancemesrep == null) {
                            var table = "";
                            table = "<div style='background-color:#ff6961; color:white;'></div>";

                            return table;
                        }
                        else {
                            var avance = "0";
                            if (data.idmetcal == 2) {

                                avance = data.avanceanio.replace("%", "");
                            }
                            else {
                                avance = data.avancemesrep.replace("%", "");
                            }
                            //var avance = data.avancemesrep.replace("%", "");
                            avance = parseFloat(avance);
                            var table = "";
                            if (avance >= 80) {

                                table = "<div style='background-color:#77dd77;color:black;  width:100%'>Aceptable</div>";
                            }
                            else if (avance > 50 && avance < 80) {

                                table = "<div style='background-color:#fdfd96;color:black; '>En progreso</div>";
                            }
                            else if (avance <= 50) {

                                table = "<div style='background-color:#ff6961; color:black; '>En riesgo</div>";
                            }
                            return table;
                        }

                    }
                }
            ]

        });

        oTable = $('#demodata').DataTable();
        oTable.columns(1).search($('#idpp').val());
        oTable.columns(2).search($('#loadsecretaria').val());
        oTable.draw();

    }

        function Validarficha(a, b) {
            $.ajax({
                type: 'POST',
                url: pathserver + "/Calendario/ValidaFicha",
                dataType: 'json',
                data: {
                    code: a,
                    estatus: b
                },
                success: function (data) {
                    DemoDatatable();
                },
                error: function (ex) {
                }
            });
        }
        function ValidaFicha(a, b) {

            $.ajax({
                type: 'POST',
                url: pathserver + "/Calendario/ValidaFicha",
                dataType: 'json',
                data: {
                    code: a,
                    estatus: b
                },
                success: function (data) {
                    DemoDatatable();
                },
                error: function (ex) {
                }
            });
        }
    </script>
}
<div class="modal fade" id="basic" tabindex="-1" aria-hidden="true" style="display: none;">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <input type="hidden" id="idcalendario" name="idcalendario" />
                <h3 class="modal-title">Aviso!</h3>
            </div>
            <div class="modal-body text-center">
                <h4> ¿Desea eliminar el registro?</h4>
            </div>
            <div class="modal-footer" style="display:block">
                <div class="row">
                    <div class="col-md-6 col-sm-6">
                        <button data-dismiss="modal" onclick="CancelaDelet()" type="button" class="btn btn-primary w-100">Cancelar</button>
                    </div>
                    <div class="col-md-6 col-sm-6">
                        <button id="btnContinueDelete" onclick="Delete()" type="button" class="btn btn-danger w-100">Borrar</button>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Mensaje</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div id="list">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" style="width:100%;">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<style>
    .table-bordered td, .table-bordered th, .table-bordered tr {
        border: 1px solid #2A3F54;
    }

    .bd-example-modal-lg .modal-dialog {
        display: table;
        position: relative;
        margin: 0 auto;
        top: calc(50% - 24px);
    }

        .bd-example-modal-lg .modal-dialog .modal-content {
            background-color: transparent;
            color: red;
            font-weight: bold;
            border: none;
        }

    .tab-1 {
        padding: 0px 0px 0px 0px;
        text-align: center;
    }

    table.display td {
    }

    .pad {
        text-align: center;
        padding-left: 5px;
        padding-right: 5px;
    }
</style>
<div class="modal fade bd-example-modal-lg" id="spiner" data-backdrop="static" data-keyboard="false" tabindex="-1">
    <div class="modal-dialog modal-sm">
        <div class="modal-content" style="width: 48px">
            <span class="fa fa-spinner fa-spin fa-5x"></span>
        </div>
    </div>
</div>
<input type="hidden" id="secre" value="@User.Identity.GetIdSecretaria()" />

<div class="modal fade" id="table" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document" style="max-width:800px;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Cantidad reportada del indicador</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <table class="table table-responsive w-100 mb-2 table-bordered" style="font-size:12px;">
                    <thead>
                        <tr style="background-color:#808080;text-align:center; color:white;font-size:12px;">
                            <td colspan="2">
                                <span class="year"></span> - Enero
                            </td>
                            <td colspan="2">
                                <span class="year"></span> - Febrero
                            </td>
                            <td colspan="2">
                                <span class="year"></span> - Marzo
                            </td>
                            <td colspan="2">
                                <span class="year"></span> - Abril
                            </td>
                            <td colspan="2">
                                <span class="year"></span> - Mayo
                            </td>
                            <td colspan="2">
                                <span class="year"></span> - Junio
                            </td>
                            <td colspan="2">
                                <span class="year"></span> - Julio
                            </td>
                            <td colspan="2">
                                <span class="year"></span> - Agosto
                            </td>
                            <td colspan="2">
                                <span class="year"></span> - Septiembre
                            </td>
                            <td colspan="2">
                                <span class="year"></span> - Octubre
                            </td>
                            <td colspan="2">
                                <span class="year"></span> - Noviembre
                            </td>
                            <td colspan="2">
                                <span class="year"></span> - Diciembre
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Meta
                            </td>
                            <td>
                                Avance
                            </td>

                            <td>
                                Meta
                            </td>
                            <td>
                                Avance
                            </td>
                            <td>
                                Meta
                            </td>
                            <td>
                                Avance
                            </td>
                            <td>
                                Meta
                            </td>
                            <td>
                                Avance
                            </td>
                            <td>
                                Meta
                            </td>
                            <td>
                                Avance
                            </td>
                            <td>
                                Meta
                            </td>
                            <td>
                                Avance
                            </td>
                            <td>
                                Meta
                            </td>
                            <td>
                                Avance
                            </td>
                            <td>
                                Meta
                            </td>
                            <td>
                                Avance
                            </td>
                            <td>
                                Meta
                            </td>
                            <td>
                                Avance
                            </td>
                            <td>
                                Meta
                            </td>
                            <td>
                                Avance
                            </td>
                            <td>
                                Meta
                            </td>
                            <td>
                                Avance
                            </td>
                            <td>
                                Meta
                            </td>
                            <td>
                                Avance
                            </td>
                        </tr>
                    </thead>
                    <tbody id="tablebody"></tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {

        $(".btnmes").click(function () {
            var Porcentaje = $("#Porcentaje").val();

            var id = this.id;
            var options = ['En', 'Fb', 'Mz', 'Ab', 'My', 'Jn', 'Jl', 'Ag', 'Sp', 'Oc', 'Nv', 'Dc'];

            var guarda = "true";
            var btn = id;

            if (Porcentaje == "true" || Porcentaje == true || Porcentaje == "True") {
                btn = "Porc" + btn;
            }
            var v1r = btn + "v1r";
            var v2p = btn + "v2p";
            var Av1r = btn + "Av1r";
            var Av2p = btn + "Av2p";
            var mes = btn + "mes";
            var Rmes = btn + "Rmes";
            var anio = btn + "anio";

            var hid = id + "hid";

            var formData = new FormData();
            formData.append("v1r", $("." + v1r).val().replace(/,/g, ""));
            formData.append("v2p", $("." + v2p).val().replace(/,/g, ""));
            formData.append("Av1r", $("." + Av1r).val().replace(/,/g, ""));
            formData.append("Av2p", $("." + Av2p).val().replace(/,/g, ""));
            formData.append("Avance", $("." + mes).val().replace(/,/g, "").replace("%", ""));
            formData.append("AvanceMesRep", $("." + Rmes).val().replace(/,/g, "").replace("%", ""));
            formData.append("Avanceanio", $("." + anio).val().replace(/,/g, "").replace("%", ""));
            formData.append("iddetcalen", $("#" + hid).val());

            $.ajax(
                {
                    type: 'POST',
                    url: pathserver + "/Calendario/UpdateDetalleCalendario",
                    data: formData,
                    cache: false,
                    contentType: false,
                    processData: false,
                    success: function (data) {
                        guarda = data.activo;
                        //setTimeout(function () {
                        //    $('#spiner').modal('hide');
                        //}, 1000);
                    }
                });


            if (guarda == true || guarda == "true") {
                //setTimeout(function () { $('#spiner').modal('hide'); }, 500);
                //$("#list").append('<p style="text-align:center;">Se guardo la información correctamente');
                //$("#exampleModal").modal("show");
                //setTimeout(function () { window.location.reload()}, 500);

                DemoDatatable();
                $('#myModal').modal('hide');
            }
            else {
                setTimeout(function () {
                    $('#spiner').modal('hide');
                }, 500);
                $("#list").append("<p>Ocurrió un error al ingresar el registro, favor de volver a intentarlo</p>.");
                $("#exampleModal").modal("show");
            }
        });

        $(".Env1r").keyup(function () {

            var Porcentaje = $("#Porcentaje").val();
            if (Porcentaje == "true" || Porcentaje == true || Porcentaje == "True") {
                return false;
            }
            var Env1r = parseFloat($(".Env1r").val().replace(/,/g, ""));
            if (Number.isNaN(Env1r) || Env1r == "NaN" || Env1r == "") {
                Env1r = "0";
                $(".Env1r").val(Env1r);
            }
            else {
                $(".Env1r").val(Env1r);
            }
            //$(".EnAv1r").val(Env1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            var EnAv1r = $(".Env1r").val().replace(/,/g, "");
            if (Number.isNaN(EnAv1r) || Env1r == "NaN" || Env1r == "") {
                EnAv1r = "0";
                $(".EnAv1r").val(EnAv1r);
            }
            else {
                $(".EnAv1r").val(parseFloat(EnAv1r.replace(/,/g, "")).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));

            }

            var Env2p = parseFloat($(".Env2p").val().replace(/,/g, ""));
            var total = (Env1r / Env2p) * 100;
            if (Number.isNaN(total) || total == "NaN" || total == "" || total == "Infinity") {
                total = "0";
                $(".Enmes").val(total + "%");
            }
            else {
                $(".Enmes").val(total.toFixed(2) + "%");
            }

            var EnAv1r = $(".EnAv1r").val();
            if (Number.isNaN(EnAv1r) || EnAv1r == "NaN" || EnAv1r == "") { }
            else {
                EnAv1r = parseFloat($(".EnAv1r").val().replace(/,/g, ""));
            }
            var EnAv2p = $(".EnAv2p").val();
            if (Number.isNaN(EnAv2p) || EnAv2p == "NaN" || EnAv2p == "") { }
            else {
                EnAv2p = parseFloat($(".EnAv2p").val().replace(/,/g, ""));
            }
            var totalmesrep = (EnAv1r / EnAv2p) * 100;
            if (Number.isNaN(totalmesrep)) {
                totalmesrep = "";
            }
            else if (totalanio == "NaN") {

                totalmesrep = "";
            }
            $(".EnRmes").val(totalmesrep.toFixed(2) + "%");
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var totalanio = (Env1r / meta) * 100;

            if (Number.isNaN(totalanio)) {
                totalanio = "";
            }
            else if (totalanio == "NaN") {

                totalanio = "";
            }
            $(".Enanio").val(totalanio.toFixed(2) + "%");
            var valor = Env1r;
            if (Number.isNaN(valor) || valor == "0" || valor == "NaN") {
                valor = "0";
                $(".Env1r").val(valor);
            }
            else {
                $(".Env1r").val(valor.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }


        });
        $(".Fbv1r").keyup(function () {
            var Porcentaje = $("#Porcentaje").val();
            if (Porcentaje == "true" || Porcentaje == true || Porcentaje == "True") {
                return false;
            }
            var Fbv1r = parseFloat($(".Fbv1r").val().replace(/,/g, ""));
            $(".FbAv1r").val(Fbv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            var Fbv2p = parseFloat($(".Fbv2p").val().replace(/,/g, ""));

            var total = (Fbv1r / Fbv2p) * 100;
            if (Number.isNaN(total) || total == "NaN" || total == "" || total == "Infinity") {
                total = "0";
                $(".Fbmes").val(total + "%");

            }
            else {
                $(".Fbmes").val(total.toFixed(2) + "%");
            }

            var EnAv1r = parseFloat($(".EnAv1r").val().replace(/,/g, ""));
            var FbAv1r = parseFloat($(".FbAv1r").val().replace(/,/g, ""));


            if (Number.isNaN(FbAv1r) || FbAv1r == "" || FbAv1r == "NaN") {
                FbAv1r = "0";
                FbAv1r = parseFloat(FbAv1r) + EnAv1r
                $(".FbAv1r").val(FbAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
            else {
                FbAv1r = parseFloat(FbAv1r) + EnAv1r
                $(".FbAv1r").val(FbAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }




            var FbAv1r = parseFloat($(".FbAv1r").val().replace(/,/g, ""));
            var FbAv2p = parseFloat($(".FbAv2p").val().replace(/,/g, ""));

            var totalmesrep = (FbAv1r / FbAv2p) * 100;
            if (Number.isNaN(totalmesrep)) {
                totalmesrep = "";
            }
            else if (totalanio == "NaN") {

                totalmesrep = "";
            }
            $(".FbRmes").val(totalmesrep.toFixed(2) + "%");
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var totalanio = (FbAv1r / meta) * 100;
            if (Number.isNaN(totalanio)) {
                totalanio = "";
            }
            else if (totalanio == "NaN") {

                totalanio = "";
            }

            $(".Fbanio").val(totalanio.toFixed(2) + "%");
            var valor = Fbv1r;
            if (Number.isNaN(valor) || valor == "0" || valor == "NaN") {
                valor = "0";
                $(".Fbv1r").val(valor);
            }
            else {
                $(".Fbv1r").val(valor.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }


        });
        $(".Mzv1r").keyup(function () {

            var Porcentaje = $("#Porcentaje").val();
            if (Porcentaje == "true" || Porcentaje == true || Porcentaje == "True") {
                return false;
            }
            var Mzv1r = parseFloat($(".Mzv1r").val().replace(/,/g, ""));
            $(".MzAv1r").val(Mzv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            var Mzv2p = parseFloat($(".Mzv2p").val().replace(/,/g, ""));

            var total = (Mzv1r / Mzv2p) * 100;
            if (Number.isNaN(total) || total == "NaN" || total == "" || total == "Infinity") {
                total = "0";
                $(".Mzmes").val(total + "%");

            }
            else {
                $(".Mzmes").val(total.toFixed(2) + "%");
            }

            var FbAv1r = parseFloat($(".FbAv1r").val().replace(/,/g, ""));
            var MzAv1r = parseFloat($(".MzAv1r").val().replace(/,/g, ""));

            //***************************************************************************************//
            if (Number.isNaN(MzAv1r) || MzAv1r == "" || MzAv1r == "NaN") {
                MzAv1r = "0";
                MzAv1r = parseFloat(MzAv1r) + FbAv1r
                $(".MzAv1r").val(MzAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
            else {
                MzAv1r = parseFloat(MzAv1r) + FbAv1r
                $(".MzAv1r").val(MzAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }

            var MzAv1r = parseFloat($(".MzAv1r").val().replace(/,/g, ""));
            var MzAv2p = parseFloat($(".MzAv2p").val().replace(/,/g, ""));

            var totalmesrep = (MzAv1r / MzAv2p) * 100;
            if (Number.isNaN(totalmesrep)) {
                totalmesrep = "";
            }
            else if (totalanio == "NaN") {

                totalmesrep = "";
            }
            $(".MzRmes").val(totalmesrep.toFixed(2) + "%");
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var totalanio = (MzAv1r / meta) * 100;
            if (Number.isNaN(totalanio)) {
                totalanio = "";
            }
            else if (totalanio == "NaN") {

                totalanio = "";
            }
            $(".Mzanio").val(totalanio.toFixed(2) + "%");


            var valor = Mzv1r;
            if (Number.isNaN(valor) || valor == "0" || valor == "NaN") {
                valor = "0";
                $(".Mzv1r").val(valor);
            }
            else {
                $(".Mzv1r").val(valor.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
        });
        $(".Abv1r").keyup(function () {

            var Porcentaje = $("#Porcentaje").val();
            if (Porcentaje == "true" || Porcentaje == true || Porcentaje == "True") {
                return false;
            }
            var Abv1r = parseFloat($(".Abv1r").val().replace(/,/g, ""));
            $(".AbAv1r").val(Abv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            var Abv2p = parseFloat($(".Abv2p").val().replace(/,/g, ""));

            var total = (Abv1r / Abv2p) * 100;
            if (Number.isNaN(total) || total == "NaN" || total == "" || total == "Infinity") {
                total = "0";
                $(".Abmes").val(total + "%");

            }
            else {
                $(".Abmes").val(total.toFixed(2) + "%");
            }

            var MzAv1r = parseFloat($(".MzAv1r").val().replace(/,/g, ""));
            var AbAv1r = parseFloat($(".AbAv1r").val().replace(/,/g, ""));

            //***************************************************************************************//
            if (Number.isNaN(AbAv1r) || AbAv1r == "" || AbAv1r == "NaN") {
                AbAv1r = "0";
                AbAv1r = parseFloat(AbAv1r) + MzAv1r
                $(".AbAv1r").val(AbAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
            else {
                AbAv1r = parseFloat(AbAv1r) + MzAv1r
                $(".AbAv1r").val(AbAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }

            var AbAv1r = parseFloat($(".AbAv1r").val().replace(/,/g, ""));
            var AbAv2p = parseFloat($(".AbAv2p").val().replace(/,/g, ""));

            var totalmesrep = (AbAv1r / AbAv2p) * 100;
            if (Number.isNaN(totalmesrep)) {
                totalmesrep = "";
            }
            else if (totalanio == "NaN") {

                totalmesrep = "";
            }
            $(".AbRmes").val(totalmesrep.toFixed(2) + "%");
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var totalanio = (AbAv1r / meta) * 100;
            if (Number.isNaN(totalanio)) {
                totalanio = "";
            }
            else if (totalanio == "NaN") {

                totalanio = "";
            }
            $(".Abanio").val(totalanio.toFixed(2) + "%");
            var valor = Abv1r;
            if (Number.isNaN(valor) || valor == "0" || valor == "NaN") {
                valor = "0";
                $(".Abv1r").val(valor);
            }
            else {
                $(".Abv1r").val(valor.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
        });
        $(".Myv1r").keyup(function () {

            var Porcentaje = $("#Porcentaje").val();
            if (Porcentaje == "true" || Porcentaje == true || Porcentaje == "True") {
                return false;
            }
            var Myv1r = parseFloat($(".Myv1r").val().replace(/,/g, ""));
            $(".MyAv1r").val(Myv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            var Myv2p = parseFloat($(".Myv2p").val().replace(/,/g, ""));

            var total = (Myv1r / Myv2p) * 100;
            if (Number.isNaN(total) || total == "NaN" || total == "" || total == "Infinity") {
                total = "0";
                $(".Mymes").val(total + "%");

            }
            else {
                $(".Mymes").val(total.toFixed(2) + "%");
            }

            var AbAv1r = parseFloat($(".AbAv1r").val().replace(/,/g, ""));
            var MyAv1r = parseFloat($(".MyAv1r").val().replace(/,/g, ""));

            //***************************************************************************************//
            if (Number.isNaN(MyAv1r) || MyAv1r == "" || MyAv1r == "NaN") {
                MyAv1r = "0";
                MyAv1r = parseFloat(MyAv1r) + AbAv1r
                $(".MyAv1r").val(MyAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
            else {
                MyAv1r = parseFloat(MyAv1r) + AbAv1r
                $(".MyAv1r").val(MyAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }

            var MyAv1r = parseFloat($(".MyAv1r").val().replace(/,/g, ""));
            var MyAv2p = parseFloat($(".MyAv2p").val().replace(/,/g, ""));

            var totalmesrep = (MyAv1r / MyAv2p) * 100;
            if (Number.isNaN(totalmesrep)) {
                totalmesrep = "";
            }
            else if (totalanio == "NaN") {

                totalmesrep = "";
            }
            $(".MyRmes").val(totalmesrep.toFixed(2) + "%");
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var totalanio = (MyAv1r / meta) * 100;
            if (Number.isNaN(totalanio)) {
                totalanio = "";
            }
            else if (totalanio == "NaN") {

                totalanio = "";
            }
            $(".Myanio").val(totalanio.toFixed(2) + "%");
            var valor = Myv1r;
            if (Number.isNaN(valor) || valor == "0" || valor == "NaN") {
                valor = "0";
                $(".Myv1r").val(valor);
            }
            else {
                $(".Myv1r").val(valor.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
        });
        $(".Jnv1r").keyup(function () {

            var Porcentaje = $("#Porcentaje").val();
            if (Porcentaje == "true" || Porcentaje == true || Porcentaje == "True") {
                return false;
            }
            var Jnv1r = parseFloat($(".Jnv1r").val().replace(/,/g, ""));
            $(".JnAv1r").val(Jnv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            var Jnv2p = parseFloat($(".Jnv2p").val().replace(/,/g, ""));

            var total = (Jnv1r / Jnv2p) * 100;
            if (Number.isNaN(total) || total == "NaN" || total == "" || total == "Infinity") {
                total = "0";
                $(".Jnmes").val(total + "%");
            }
            else {
                $(".Jnmes").val(total.toFixed(2) + "%");
            }

            var MyAv1r = parseFloat($(".MyAv1r").val().replace(/,/g, ""));
            var JnAv1r = parseFloat($(".JnAv1r").val().replace(/,/g, ""));

            //***************************************************************************************//
            if (Number.isNaN(JnAv1r) || JnAv1r == "" || JnAv1r == "NaN") {
                JnAv1r = "0";
                JnAv1r = parseFloat(JnAv1r) + MyAv1r
                $(".JnAv1r").val(JnAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
            else {
                JnAv1r = parseFloat(JnAv1r) + MyAv1r
                $(".JnAv1r").val(JnAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }

            var JnAv1r = parseFloat($(".JnAv1r").val().replace(/,/g, ""));
            var JnAv2p = parseFloat($(".JnAv2p").val().replace(/,/g, ""));

            var totalmesrep = (JnAv1r / JnAv2p) * 100;
            if (Number.isNaN(totalmesrep)) {
                totalmesrep = "";
            }
            else if (totalanio == "NaN") {

                totalmesrep = "";
            }
            $(".JnRmes").val(totalmesrep.toFixed(2) + "%");
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var totalanio = (JnAv1r / meta) * 100;
            if (Number.isNaN(totalanio)) {
                totalanio = "";
            }
            else if (totalanio == "NaN") {

                totalanio = "";
            }
            $(".Jnanio").val(totalanio.toFixed(2) + "%");

            var valor = Jnv1r;
            if (Number.isNaN(valor) || valor == "0" || valor == "NaN") {
                valor = "0";
                $(".Jnv1r").val(valor);
            }
            else {
                $(".Jnv1r").val(valor.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
        });
        $(".Jlv1r").keyup(function () {

            var Porcentaje = $("#Porcentaje").val();
            if (Porcentaje == "true" || Porcentaje == true || Porcentaje == "True") {
                return false;
            }

            var Jlv1r = parseFloat($(".Jlv1r").val().replace(/,/g, ""));
            $(".JlAv1r").val(Jlv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            var Jlv2p = parseFloat($(".Jlv2p").val().replace(/,/g, ""));

            var total = (Jlv1r / Jlv2p) * 100;
            if (Number.isNaN(total) || total == "NaN" || total == "" || total == "Infinity") {
                total = "0";
                $(".Jlmes").val(total + "%");
            }
            else {
                $(".Jlmes").val(total.toFixed(2) + "%");
            }

            var JnAv1r = parseFloat($(".JnAv1r").val().replace(/,/g, ""));
            var JlAv1r = parseFloat($(".JlAv1r").val().replace(/,/g, ""));

            //***************************************************************************************//
            if (Number.isNaN(JlAv1r) || JlAv1r == "" || JlAv1r == "NaN") {
                JlAv1r = "0";
                JlAv1r = parseFloat(JlAv1r) + JnAv1r
                $(".JlAv1r").val(JlAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
            else {
                JlAv1r = parseFloat(JlAv1r) + JnAv1r
                $(".JlAv1r").val(JlAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }

            var JlAv1r = parseFloat($(".JlAv1r").val().replace(/,/g, ""));
            var JlAv2p = parseFloat($(".JlAv2p").val().replace(/,/g, ""));

            var totalmesrep = (JlAv1r / JlAv2p) * 100;
            if (Number.isNaN(totalmesrep)) {
                totalmesrep = "";
            }
            else if (totalanio == "NaN") {

                totalmesrep = "";
            }
            $(".JlRmes").val(totalmesrep.toFixed(2) + "%");
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var totalanio = (JlAv1r / meta) * 100;
            if (Number.isNaN(totalanio)) {
                totalanio = "";
            }
            else if (totalanio == "NaN") {

                totalanio = "";
            }
            $(".Jlanio").val(totalanio.toFixed(2) + "%");
            var valor = Jlv1r;
            if (Number.isNaN(valor) || valor == "0" || valor == "NaN") {
                valor = "0";
                $(".Jlv1r").val(valor);
            }
            else {
                $(".Jlv1r").val(valor.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
        });
        $(".Agv1r").keyup(function () {

            var Porcentaje = $("#Porcentaje").val();
            if (Porcentaje == "true" || Porcentaje == true || Porcentaje == "True") {
                return false;
            }
            var Agv1r = parseFloat($(".Agv1r").val().replace(/,/g, ""));
            $(".AgAv1r").val(Agv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            var Agv2p = parseFloat($(".Agv2p").val().replace(/,/g, ""));

            var total = (Agv1r / Agv2p) * 100;
            if (Number.isNaN(total) || total == "NaN" || total == "" || total == "Infinity") {
                total = "0";
                $(".Agmes").val(total + "%");
            }
            else {
                $(".Agmes").val(total.toFixed(2) + "%");
            }

            var JlAv1r = parseFloat($(".JlAv1r").val().replace(/,/g, ""));
            var AgAv1r = parseFloat($(".AgAv1r").val().replace(/,/g, ""));

            //***************************************************************************************//
            if (Number.isNaN(AgAv1r) || AgAv1r == "" || AgAv1r == "NaN") {
                AgAv1r = "0";
                AgAv1r = parseFloat(AgAv1r) + JlAv1r
                $(".AgAv1r").val(AgAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
            else {
                AgAv1r = parseFloat(AgAv1r) + JlAv1r
                $(".AgAv1r").val(AgAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }

            var AgAv1r = parseFloat($(".AgAv1r").val().replace(/,/g, ""));
            var AgAv2p = parseFloat($(".AgAv2p").val().replace(/,/g, ""));

            var totalmesrep = (AgAv1r / AgAv2p) * 100;
            if (Number.isNaN(totalmesrep)) {
                totalmesrep = "";
            }
            else if (totalanio == "NaN") {

                totalmesrep = "";
            }
            $(".AgRmes").val(totalmesrep.toFixed(2) + "%");
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var totalanio = (AgAv1r / meta) * 100;
            if (Number.isNaN(totalanio)) {
                totalanio = "";
            }
            else if (totalanio == "NaN") {

                totalanio = "";
            }
            $(".Aganio").val(totalanio.toFixed(2) + "%");
            var valor = Agv1r;
            if (Number.isNaN(valor) || valor == "0" || valor == "NaN") {
                valor = "0";
                $(".Agv1r").val(valor);
            }
            else {
                $(".Agv1r").val(valor.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
        });
        $(".Spv1r").keyup(function () {

            var Porcentaje = $("#Porcentaje").val();
            if (Porcentaje == "true" || Porcentaje == true || Porcentaje == "True") {
                return false;
            }
            var Spv1r = parseFloat($(".Spv1r").val().replace(/,/g, ""));
            $(".SpAv1r").val(Spv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            var Spv2p = parseFloat($(".Spv2p").val().replace(/,/g, ""));

            var total = (Spv1r / Spv2p) * 100;
            if (Number.isNaN(total) || total == "NaN" || total == "" || total == "Infinity") {
                total = "0";
                $(".Spmes").val(total + "%");
            }
            else {
                $(".Spmes").val(total.toFixed(2) + "%");
            }

            var AgAv1r = parseFloat($(".AgAv1r").val().replace(/,/g, ""));
            var SpAv1r = parseFloat($(".SpAv1r").val().replace(/,/g, ""));

            //***************************************************************************************//
            if (Number.isNaN(SpAv1r) || SpAv1r == "" || SpAv1r == "NaN") {
                SpAv1r = "0";
                SpAv1r = parseFloat(SpAv1r) + AgAv1r
                $(".SpAv1r").val(SpAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
            else {
                SpAv1r = parseFloat(SpAv1r) + AgAv1r
                $(".SpAv1r").val(SpAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }

            var SpAv1r = parseFloat($(".SpAv1r").val().replace(/,/g, ""));
            var SpAv2p = parseFloat($(".SpAv2p").val().replace(/,/g, ""));

            var totalmesrep = (SpAv1r / SpAv2p) * 100;
            if (Number.isNaN(totalmesrep)) {
                totalmesrep = "";
            }
            else if (totalanio == "NaN") {

                totalmesrep = "";
            }
            $(".SpRmes").val(totalmesrep.toFixed(2) + "%");
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var totalanio = (SpAv1r / meta) * 100;
            if (Number.isNaN(totalanio)) {
                totalanio = "";
            }
            else if (totalanio == "NaN") {

                totalanio = "";
            }
            $(".Spanio").val(totalanio.toFixed(2) + "%");
            var valor = Spv1r;
            if (Number.isNaN(valor) || valor == "0" || valor == "NaN") {
                valor = "0";
                $(".Spv1r").val(valor);
            }
            else {
                $(".Spv1r").val(valor.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
        });
        $(".Ocv1r").keyup(function () {

            var Porcentaje = $("#Porcentaje").val();
            if (Porcentaje == "true" || Porcentaje == true || Porcentaje == "True") {
                return false;
            }
            var Ocv1r = parseFloat($(".Ocv1r").val().replace(/,/g, ""));
            $(".OcAv1r").val(Ocv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            var Ocv2p = parseFloat($(".Ocv2p").val().replace(/,/g, ""));

            var total = (Ocv1r / Ocv2p) * 100;
            if (Number.isNaN(total) || total == "NaN" || total == "" || total == "Infinity") {
                total = "0";
                $(".Ocmes").val(total + "%");
            }
            else {
                $(".Ocmes").val(total.toFixed(2) + "%");
            }

            var SpAv1r = parseFloat($(".SpAv1r").val().replace(/,/g, ""));
            var OcAv1r = parseFloat($(".OcAv1r").val().replace(/,/g, ""));

            //***************************************************************************************//
            if (Number.isNaN(OcAv1r) || OcAv1r == "" || OcAv1r == "NaN") {
                OcAv1r = "0";
                OcAv1r = parseFloat(OcAv1r) + SpAv1r
                $(".OcAv1r").val(OcAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
            else {
                OcAv1r = parseFloat(OcAv1r) + SpAv1r
                $(".OcAv1r").val(OcAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }

            var OcAv1r = parseFloat($(".OcAv1r").val().replace(/,/g, ""));
            var OcAv2p = parseFloat($(".OcAv2p").val().replace(/,/g, ""));

            var totalmesrep = (OcAv1r / OcAv2p) * 100;
            if (Number.isNaN(totalmesrep)) {
                totalmesrep = "";
            }
            else if (totalanio == "NaN") {

                totalmesrep = "";
            }
            $(".OcRmes").val(totalmesrep.toFixed(2) + "%");
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var totalanio = (OcAv1r / meta) * 100;
            if (Number.isNaN(totalanio)) {
                totalanio = "";
            }
            else if (totalanio == "NaN") {

                totalanio = "";
            }
            $(".Ocanio").val(totalanio.toFixed(2) + "%");
            var valor = Ocv1r;
            if (Number.isNaN(valor) || valor == "0" || valor == "NaN") {
                valor = "0";
                $(".Ocv1r").val(valor);
            }
            else {
                $(".Ocv1r").val(valor.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
        });
        $(".Nvv1r").keyup(function () {

            var Porcentaje = $("#Porcentaje").val();
            if (Porcentaje == "true" || Porcentaje == true || Porcentaje == "True") {
                return false;
            }
            var Nvv1r = parseFloat($(".Nvv1r").val().replace(/,/g, ""));
            $(".NvAv1r").val(Nvv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            var Nvv2p = parseFloat($(".Nvv2p").val().replace(/,/g, ""));

            var total = (Nvv1r / Nvv2p) * 100;
            if (Number.isNaN(total) || total == "NaN" || total == "" || total == "Infinity") {
                total = "0";
                $(".Nvmes").val(total + "%");
            }
            else {
                $(".Nvmes").val(total.toFixed(2) + "%");
            }

            var OcAv1r = parseFloat($(".OcAv1r").val().replace(/,/g, ""));
            var NvAv1r = parseFloat($(".NvAv1r").val().replace(/,/g, ""));

            //***************************************************************************************//
            if (Number.isNaN(NvAv1r) || NvAv1r == "" || NvAv1r == "NaN") {
                NvAv1r = "0";
                NvAv1r = parseFloat(NvAv1r) + OcAv1r
                $(".NvAv1r").val(NvAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
            else {
                NvAv1r = parseFloat(NvAv1r) + OcAv1r
                $(".NvAv1r").val(NvAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }

            var NvAv1r = parseFloat($(".NvAv1r").val().replace(/,/g, ""));
            var NvAv2p = parseFloat($(".NvAv2p").val().replace(/,/g, ""));

            var totalmesrep = (NvAv1r / NvAv2p) * 100;
            if (Number.isNaN(totalmesrep)) {
                totalmesrep = "";
            }
            else if (totalanio == "NaN") {

                totalmesrep = "";
            }
            $(".NvRmes").val(totalmesrep.toFixed(2) + "%");
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var totalanio = (NvAv1r / meta) * 100;
            if (Number.isNaN(totalanio)) {
                totalanio = "";
            }
            else if (totalanio == "NaN") {

                totalanio = "";
            }
            $(".Nvanio").val(totalanio.toFixed(2) + "%");
            var valor = Nvv1r;
            if (Number.isNaN(valor) || valor == "0" || valor == "NaN") {
                valor = "0";
                $(".Nvv1r").val(valor);
            }
            else {
                $(".Nvv1r").val(valor.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
        });
        $(".Dcv1r").keyup(function () {

            var Porcentaje = $("#Porcentaje").val();
            if (Porcentaje == "true" || Porcentaje == true || Porcentaje == "True") {
                return false;
            }
            var Dcv1r = parseFloat($(".Dcv1r").val().replace(/,/g, ""));
            $(".DcAv1r").val(Dcv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            var Dcv2p = parseFloat($(".Dcv2p").val().replace(/,/g, ""));

            var total = (Dcv1r / Dcv2p) * 100;
            if (Number.isNaN(total) || total == "NaN" || total == "" || total == "Infinity") {
                total = "0";
                $(".Dcmes").val(total + "%");
            }
            else {
                $(".Dcmes").val(total.toFixed(2) + "%");
            }

            var NvAv1r = parseFloat($(".NvAv1r").val().replace(/,/g, ""));
            var DcAv1r = parseFloat($(".DcAv1r").val().replace(/,/g, ""));

            //***************************************************************************************//
            if (Number.isNaN(DcAv1r) || DcAv1r == "" || DcAv1r == "NaN") {
                DcAv1r = "0";
                DcAv1r = parseFloat(DcAv1r) + NvAv1r
                $(".DcAv1r").val(DcAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
            else {
                DcAv1r = parseFloat(DcAv1r) + NvAv1r
                $(".DcAv1r").val(DcAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }

            var DcAv1r = parseFloat($(".DcAv1r").val().replace(/,/g, ""));
            var DcAv2p = parseFloat($(".DcAv2p").val().replace(/,/g, ""));

            var totalmesrep = (DcAv1r / DcAv2p) * 100;
            if (Number.isNaN(totalmesrep)) {
                totalmesrep = "";
            }
            else if (totalanio == "NaN") {

                totalmesrep = "";
            }
            $(".DcRmes").val(totalmesrep.toFixed(2) + "%");
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var totalanio = (DcAv1r / meta) * 100;
            if (Number.isNaN(totalanio)) {
                totalanio = "";
            }
            else if (totalanio == "NaN") {

                totalanio = "";
            }
            $(".Dcanio").val(totalanio.toFixed(2) + "%");
            var valor = Dcv1r;
            if (Number.isNaN(valor) || valor == "0" || valor == "NaN") {
                valor = "0";
                $(".Dcv1r").val(valor);
            }
            else {
                $(".Dcv1r").val(valor.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            }
        });
        /*********************************************************************************************************************************************/
        $("#idEnv1r").keyup(function () {
            var variacion = $("#variacion").val();
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Env1r = $(".PorcEnv1r").val().replace(/,/g, "");
            if (Number.isNaN(Env1r) || Env1r == "NaN" || Env1r == "" || Env1r == "0") {
                Env1r = "0";
                $(".PorcEnv1r").val(Env1r);
                $(".PorcEnAv1r").val(Env1r);
                $(".PorcEnmes").val(Env1r + "%")
                $(".PorcEnRmes").val(Env1r + "%")
                $(".PorcEnanio").val(Env1r + "%")
            }
            else {
                Env1r = parseFloat($(".PorcEnv1r").val().replace(/,/g, ""));
                $(".PorcEnv1r").val(Env1r);
                $(".PorcEnAv1r").val(Env1r);
                var Env1r = parseFloat($(".PorcEnv1r").val().replace(/,/g, ""));
                var Env2p = $(".PorcEnv2p").val();
                if (Number.isNaN(Env2p) || Env2p == "NaN" || Env2p == "" || Env2p == "0") {
                    Env2p = "0";
                }
                else {
                    Env2p = parseFloat($(".PorcEnv2p").val().replace(/,/g, ""));
                }
                var total = "0";
                var totalmesac = "0";
                var EnAv1r = parseFloat($(".PorcEnAv1r").val().replace(/,/g, ""));
                var EnAv2p = parseFloat($(".PorcEnAv2p").val().replace(/,/g, ""));
                var P = "";
                var Ranio = "";
                if (variacion == 1 || variacion == "1") {
                    var R = "";
                    var TotalAnio = "";
                    R = (Env1r - Env2p) / Env2p;
                    P = (R * 100);
                    Ranio = R;
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity") {
                        P = "0.0";
                        $(".PorcEnRmes").val(P + "%");
                    }
                    else {
                        $(".PorcEnRmes").val(P.toFixed(2) + "%");
                    }
                    total = P;
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Env1r / Env2p);
                        total = (total * 100) / meta;

                        totalmesac = (EnAv1r / EnAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Env1r / Env2p) * 100;
                        totalmesac = (EnAv1r / EnAv2p) * 100;
                    }

                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity") {
                        totalmesac = "0";
                        $(".PorcEnRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcEnRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }

                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity") {
                    total = "0";
                    $(".PorcEnmes").val(total + "%");
                }
                else {
                    $(".PorcEnmes").val(total.toFixed(2) + "%");
                }
                var Enanio = "";
                var EnRmes = parseFloat($(".PorcEnRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Enanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {

                        Enanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Enanio = (EnRmes * 100) / meta;
                    }
                }

                if (Number.isNaN(Enanio) || Enanio == "NaN" || Enanio == "" || Enanio == "Infinity" || Enanio == "0" || Enanio == "0.0" || Enanio == "-Infinity") {
                    Enanio = "0";
                    $(".PorcEnanio").val(Enanio + "%");
                }
                else {
                    $(".PorcEnanio").val(Enanio.toFixed(2) + "%");
                }
                var valor = Env1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcEnv1r").val(valor);
                $(".PorcEnAv1r").val(valor);
            }
        });
        $("#idEnv2p").keyup(function () {
            var variacion = $("#variacion").val();
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Env2p = $(".PorcEnv2p").val().replace(/,/g, "");
            if (Number.isNaN(Env2p) || Env2p == "NaN" || Env2p == "" || Env2p == "0") {
                Env2p = "0";
                $(".PorcEnv2p").val(Env2p);
                $(".PorcEnAv2p").val(Env2p);
                $(".PorcEnmes").val(Env2p + "%")
                $(".PorcEnRmes").val(Env2p + "%")
                $(".PorcEnanio").val(Env2p + "%")
            }
            else {
                Env2p = parseFloat($(".PorcEnv2p").val().replace(/,/g, ""));
                $(".PorcEnv2p").val(Env2p);
                $(".PorcEnAv2p").val(Env2p);
                var Env1r = parseFloat($(".PorcEnv1r").val().replace(/,/g, ""));
                var Env2p = parseFloat($(".PorcEnv2p").val().replace(/,/g, ""));
                var EnAv1r = parseFloat($(".PorcEnAv1r").val().replace(/,/g, ""));
                var EnAv2p = parseFloat($(".PorcEnAv2p").val().replace(/,/g, ""));
                var total = "0"
                var totalmesac = "0";
                var promedio = "0";
                var P = "";
                var Ranio = "";
                if (variacion == 1 || variacion == "1") {
                    var R = "";
                    var TotalAnio = "";
                    R = (Env1r - Env2p) / Env2p; 
                    P = (R * 100); 
                    Ranio = R;
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity") {
                        P = "0.0";
                        $(".PorcEnRmes").val(P + "%");
                    }
                    else {
                        $(".PorcEnRmes").val(P.toFixed(2) + "%");
                    }
                    total = P; 
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Env1r / Env2p);
                        total = (total * 100) / meta;

                        totalmesac = (EnAv1r / EnAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Env1r / Env2p) * 100;
                        totalmesac = (EnAv1r / EnAv2p) * 100;
                    }

                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity") {
                        totalmesac = "0";
                        $(".PorcEnRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcEnRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }

                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity") {
                    total = "0";
                    $(".PorcEnmes").val(total + "%");
                }
                else {
                    $(".PorcEnmes").val(total.toFixed(2) + "%");
                }
                var Enanio = "";
                var EnRmes = parseFloat($(".PorcEnRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Enanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Enanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Enanio = (EnRmes * 100) / meta;
                    }
                }

                if (Number.isNaN(Enanio) || Enanio == "NaN" || Enanio == "" || Enanio == "Infinity" || Enanio == "0" || Enanio == "0.0" || Enanio == "-Infinity") {
                    Enanio = "0";
                    $(".PorcEnanio").val(Enanio + "%");
                }
                else {
                    $(".PorcEnanio").val(Enanio.toFixed(2) + "%");
                }
                var valor = Env2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcEnv2p").val(valor);
                $(".PorcEnAv2p").val(valor);
            }
        });
        $("#idFbv1r").keyup(function () {
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            meta = parseFloat(meta);
            var Fbv1r = $(".PorcFbv1r").val();
            if (Number.isNaN(Fbv1r) || Fbv1r == "NaN" || Fbv1r == "" || Fbv1r == " " || Fbv1r == "0" || Fbv1r == "Infinity" || Fbv1r == "-Infinity") {
                Fbv1r = "0";
                $(".PorcFbv1r").val(Fbv1r);
                $(".PorcFbAv1r").val($(".PorcEnAv1r").val());
                $(".PorcFbmes").val(Fbv1r + "%")
                $(".PorcFbRmes").val(Fbv1r + "%")
                $(".PorcFbanio").val(Fbv1r + "%")
            }
            else {
                var EnAv1r = parseFloat($(".PorcEnAv1r").val().replace(/,/g, ""));
                Fbv1r = parseFloat(Fbv1r.replace(/,/g, ""));
                FbAv1r = parseFloat(Fbv1r) + parseFloat(EnAv1r);
                var valor = Fbv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorFbAv1r = FbAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcFbv1r").val(valor);
                $(".PorcFbAv1r").val(valorFbAv1r);
                Fbv2p = $(".PorcFbv2p").val().replace(/,/g, "");
                var total = "0";
                var totalmesac = "0";
                var Ranio = "";
                var FbAv1r = parseFloat($(".PorcFbAv1r").val().replace(/,/g, ""));
                var FbAv2p = parseFloat($(".PorcFbAv2p").val().replace(/,/g, ""));
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var PT = "";
                    R = (Fbv1r - Fbv2p) / Fbv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (FbAv1r - FbAv2p) / FbAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcFbRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcFbRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Fbv1r / Fbv2p);
                        total = (total * 100) / meta;

                        totalmesac = (FbAv1r / FbAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Fbv1r / Fbv2p) * 100;
                        totalmesac = (FbAv1r / FbAv2p) * 100;
                    }

                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcFbRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcFbRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }

                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcFbmes").val(total + "%");
                }
                else {
                    $(".PorcFbmes").val(total.toFixed(2) + "%");
                }

                var Fbanio = "";
                var FbRmes = parseFloat($(".PorcFbRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Fbanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Fbanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Fbanio = (FbRmes * 100) / meta;
                    }
                }
                if (Number.isNaN(Fbanio) || Fbanio == "NaN" || Fbanio == "" || Fbanio == "0" || Fbanio == "0.0" || Fbanio == "Infinity" || Fbanio == "-Infinity") {
                    Fbanio = "0";
                    $(".PorcFbanio").val(Fbanio + "%");
                }
                else {
                    $(".PorcFbanio").val(Fbanio.toFixed(2) + "%");
                }
            }
        });
        $("#idFbv2p").keyup(function () {
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            meta = parseFloat(meta);
            var Fbv2p = $(".PorcFbv2p").val();
            if (Number.isNaN(Fbv2p) || Fbv2p == "NaN" || Fbv2p == "" || Fbv2p == " " || Fbv2p == "Infinity" || Fbv2p == "-Infinity") {
                Fbv2p = "0";
                $(".PorcFbv2p").val(Fbv2p);
                $(".PorcFbAv2p").val($(".PorcEnAv2p").val());
                $(".PorcFbmes").val(Fbv2p + "%")
                $(".PorcFbRmes").val(Fbv2p + "%")
                $(".PorcFbanio").val(Fbv2p + "%")
            }
            else {
                Fbv2p = parseFloat(Fbv2p.replace(/,/g, ""));
                var EnAv2p = parseFloat($(".PorcEnAv2p").val().replace(/,/g, ""));
                var FbAv2p = parseFloat(Fbv2p) + parseFloat(EnAv2p);
                var valor = Fbv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorFbAv2p = FbAv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcFbv2p").val(valor);
                $(".PorcFbAv2p").val(valorFbAv2p);
                Fbv1r = $(".PorcFbv1r").val().replace(/,/g, "");
                var total = "0";
                var totalmesac = "0";
                var FbAv1r = parseFloat($(".PorcFbAv1r").val().replace(/,/g, ""));
                var FbAv2p = parseFloat($(".PorcFbAv2p").val().replace(/,/g, ""));
                var Ranio = "";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Fbv1r - Fbv2p) / Fbv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (FbAv1r - FbAv2p) / FbAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcFbRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcFbRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Fbv1r / Fbv2p);
                        total = (total * 100) / meta;

                        totalmesac = (FbAv1r / FbAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Fbv1r / Fbv2p) * 100;
                        totalmesac = (FbAv1r / FbAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcFbRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcFbRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }

                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcFbmes").val(total + "%");
                }
                else {
                    $(".PorcFbmes").val(total.toFixed(2) + "%");
                }

                var Fbanio = "";
                var FbRmes = parseFloat($(".PorcFbRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Fbanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Fbanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Fbanio = (FbRmes * 100) / meta;
                    }
                }
                if (Number.isNaN(Fbanio) || Fbanio == "NaN" || Fbanio == "" || Fbanio == "0" || Fbanio == "0.0" || Fbanio == "Infinity" || Fbanio == "-Infinity") {
                    Fbanio = "0";
                    $(".PorcFbanio").val(Fbanio + "%");
                }
                else {
                    $(".PorcFbanio").val(Fbanio.toFixed(2) + "%");
                }
            }
        });
        $("#idMzv1r").keyup(function () {
            var variacion = $("#variacion").val();
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Mzv1r = $(".PorcMzv1r").val();
            if (Number.isNaN(Mzv1r) || Mzv1r == "NaN" || Mzv1r == "" || Mzv1r == " " || Mzv1r == "0") {
                Mzv1r = "0";
                $(".PorcMzv1r").val(Mzv1r);
                $(".PorcMzAv1r").val($(".PorcFbAv1r").val());
                $(".PorcMzmes").val(Mzv1r + "%")
                $(".PorcMzRmes").val(Mzv1r + "%")
                $(".PorcMzanio").val(Mzv1r + "%")
            }
            else {
                var FbAv1r = parseFloat($(".PorcFbAv1r").val().replace(/,/g, ""));
                Mzv1r = parseFloat(Mzv1r.replace(/,/g, ""));
                MzAv1r = parseFloat(Mzv1r) + parseFloat(FbAv1r);
                var valor = Mzv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorMzAv1r = MzAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcMzv1r").val(valor);
                $(".PorcMzAv1r").val(valorMzAv1r);
                Mzv2p = $(".PorcMzv2p").val().replace(/,/g, "");
                var MzAv1r = parseFloat($(".PorcMzAv1r").val().replace(/,/g, ""));
                var MzAv2p = parseFloat($(".PorcMzAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Mzv1r - Mzv2p) / Mzv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (MzAv1r - MzAv2p) / MzAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcMzRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcMzRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Mzv1r / Mzv2p);
                        total = (total * 100) / meta;

                        totalmesac = (MzAv1r / MzAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Mzv1r / Mzv2p) * 100;
                        totalmesac = (MzAv1r / MzAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcMzRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcMzRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }
                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcMzmes").val(total + "%");
                }
                else {
                    $(".PorcMzmes").val(total.toFixed(2) + "%");
                }

                var Mzanio = "";
                var MzRmes = parseFloat($(".PorcMzRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Mzanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Mzanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Mzanio = (MzRmes * 100) / meta;
                    }
                }

                if (Number.isNaN(Mzanio) || Mzanio == "NaN" || Mzanio == "" || Mzanio == "0" || Mzanio == "0.0" || Mzanio == "Infinity" || Mzanio == "-Infinity") {
                    Mzanio = "0";
                    $(".PorcMzanio").val(Mzanio + "%");
                }
                else {
                    $(".PorcMzanio").val(Mzanio.toFixed(2) + "%");
                }
            }
        });
        $("#idMzv2p").keyup(function () {
            var variacion = $("#variacion").val();
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Mzv2p = $(".PorcMzv2p").val();
            if (Number.isNaN(Mzv2p) || Mzv2p == "NaN" || Mzv2p == "" || Mzv2p == " " || Mzv2p == "0") {
                Mzv2p = "0";
                $(".PorcMzv2p").val(Mzv2p);
                $(".PorcMzAv2p").val($(".PorcFbAv2p").val());
                $(".PorcMzmes").val(Mzv2p + "%")
                $(".PorcMzRmes").val(Mzv2p + "%")
                $(".PorcMzanio").val(Mzv2p + "%")
            }
            else {
                Mzv2p = parseFloat(Mzv2p.replace(/,/g, ""));
                var FbAv2p = parseFloat($(".PorcFbAv2p").val().replace(/,/g, ""));
                var MzAv2p = parseFloat(Mzv2p) + parseFloat(FbAv2p);
                var valor = Mzv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorMzAv2p = MzAv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcMzv2p").val(valor);
                $(".PorcMzAv2p").val(valorMzAv2p);
                Mzv1r = $(".PorcMzv1r").val().replace(/,/g, "");
                var MzAv1r = parseFloat($(".PorcMzAv1r").val().replace(/,/g, ""));
                var MzAv2p = parseFloat($(".PorcMzAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Mzv1r - Mzv2p) / Mzv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (MzAv1r - MzAv2p) / MzAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcMzRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcMzRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Mzv1r / Mzv2p);
                        total = (total * 100) / meta;

                        totalmesac = (MzAv1r / MzAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Mzv1r / Mzv2p) * 100;
                        totalmesac = (MzAv1r / MzAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcMzRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcMzRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }

                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcMzmes").val(total + "%");
                }
                else {
                    $(".PorcMzmes").val(total.toFixed(2) + "%");
                }

                var Mzanio = "";
                var MzRmes = parseFloat($(".PorcMzRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Mzanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Mzanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Mzanio = (MzRmes * 100) / meta;
                    }
                }
                if (Number.isNaN(Mzanio) || Mzanio == "NaN" || Mzanio == "" || Mzanio == "0" || Mzanio == "0.0" || Mzanio == "Infinity" || Mzanio == "-Infinity") {
                    Mzanio = "0";
                    $(".PorcMzanio").val(Mzanio + "%");
                }
                else {
                    $(".PorcMzanio").val(Mzanio.toFixed(2) + "%");
                }
            }
        });
        $("#idAbv1r").keyup(function () {
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Abv1r = $(".PorcAbv1r").val();
            if (Number.isNaN(Abv1r) || Abv1r == "NaN" || Abv1r == "" || Abv1r == " " || Abv1r == "0") {
                Abv1r = "0";
                $(".PorcAbv1r").val(Abv1r);
                $(".PorcAbAv1r").val($(".PorcMzAv1r").val());
                $(".PorcAbmes").val(Abv1r + "%")
                $(".PorcAbRmes").val(Abv1r + "%")
                $(".PorcAbanio").val(Abv1r + "%")
            }
            else {
                var MzAv1r = parseFloat($(".PorcMzAv1r").val().replace(/,/g, ""));
                Abv1r = parseFloat(Abv1r.replace(/,/g, ""));
                AbAv1r = parseFloat(Abv1r) + parseFloat(MzAv1r);
                var valor = Abv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorAbAv1r = AbAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcAbv1r").val(valor);
                $(".PorcAbAv1r").val(valorAbAv1r);
                Abv2p = $(".PorcAbv2p").val().replace(/,/g, "");
                var AbAv1r = parseFloat($(".PorcAbAv1r").val().replace(/,/g, ""));
                var AbAv2p = parseFloat($(".PorcAbAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Abv1r - Abv2p) / Abv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (AbAv1r - AbAv2p) / AbAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcAbRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcAbRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Abv1r / Abv2p);
                        total = (total * 100) / meta;

                        totalmesac = (AbAv1r / AbAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Abv1r / Abv2p) * 100;
                        totalmesac = (AbAv1r / AbAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcAbRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcAbRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }
                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcAbmes").val(total + "%");
                }
                else {
                    $(".PorcAbmes").val(total.toFixed(2) + "%");
                }

                var Abanio = "";
                var AbRmes = parseFloat($(".PorcAbRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Abanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Abanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Abanio = (AbRmes * 100) / meta;
                    }
                }

                if (Number.isNaN(Abanio) || Abanio == "NaN" || Abanio == "" || Abanio == "0" || Abanio == "0.0" || Abanio == "Infinity" || Abanio == "-Infinity") {
                    Abanio = "0";
                    $(".PorcAbanio").val(Abanio + "%");
                }
                else {
                    $(".PorcAbanio").val(Abanio.toFixed(2) + "%");
                }

            }
        });
        $("#idAbv2p").keyup(function () {
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Abv2p = $(".PorcAbv2p").val();
            if (Number.isNaN(Abv2p) || Abv2p == "NaN" || Abv2p == "" || Abv2p == " " || Abv2p == "0") {
                Abv2p = "0";
                $(".PorcAbv2p").val(Abv2p);
                $(".PorcAbAv2p").val($(".PorcMzAv2p").val());
                $(".PorcAbmes").val(Abv2p + "%")
                $(".PorcAbRmes").val(Abv2p + "%")
                $(".PorcAbanio").val(Abv2p + "%")
            }
            else {
                Abv2p = parseFloat(Abv2p.replace(/,/g, ""));
                var MzAv2p = parseFloat($(".PorcMzAv2p").val().replace(/,/g, ""));
                var AbAv2p = parseFloat(Abv2p) + parseFloat(MzAv2p);
                var valor = Abv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorAbAv2p = AbAv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcAbv2p").val(valor);
                $(".PorcAbAv2p").val(valorAbAv2p);
                Abv1r = $(".PorcAbv1r").val().replace(/,/g, "");
                var AbAv1r = parseFloat($(".PorcAbAv1r").val().replace(/,/g, ""));
                var AbAv2p = parseFloat($(".PorcAbAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Abv1r - Abv2p) / Abv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (AbAv1r - AbAv2p) / AbAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcAbRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcAbRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Abv1r / Abv2p);
                        total = (total * 100) / meta;

                        totalmesac = (AbAv1r / AbAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Abv1r / Abv2p) * 100;
                        totalmesac = (AbAv1r / AbAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcAbRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcAbRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }

                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcAbmes").val(total + "%");
                }
                else {
                    $(".PorcAbmes").val(total.toFixed(2) + "%");
                }

                var Abanio = "";
                var AbRmes = parseFloat($(".PorcAbRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Abanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Abanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Abanio = (AbRmes * 100) / meta;
                    }
                }
                if (Number.isNaN(Abanio) || Abanio == "NaN" || Abanio == "" || Abanio == "0" || Abanio == "0.0" || Abanio == "Infinity" || Abanio == "-Infinity") {
                    Abanio = "0";
                    $(".PorcAbanio").val(Abanio + "%");
                }
                else {
                    $(".PorcAbanio").val(Abanio.toFixed(2) + "%");
                }
            }
        });
        $("#idMyv1r").keyup(function () {
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Myv1r = $(".PorcMyv1r").val();
            if (Number.isNaN(Myv1r) || Myv1r == "NaN" || Myv1r == "" || Myv1r == " " || Myv1r == "0") {
                Myv1r = "0";
                $(".PorcMyv1r").val(Myv1r);
                $(".PorcMyAv1r").val($(".PorcAbAv1r").val());
                $(".PorcMymes").val(Myv1r + "%")
                $(".PorcMyRmes").val(Myv1r + "%")
                $(".PorcMyanio").val(Myv1r + "%")
            }
            else {
                var AbAv1r = parseFloat($(".PorcAbAv1r").val().replace(/,/g, ""));
                Myv1r = parseFloat(Myv1r.replace(/,/g, ""));
                MyAv1r = parseFloat(Myv1r) + parseFloat(AbAv1r);
                var valor = Myv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorMyAv1r = MyAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcMyv1r").val(valor);
                $(".PorcMyAv1r").val(valorMyAv1r);
                Myv2p = $(".PorcMyv2p").val().replace(/,/g, "");
                var MyAv1r = parseFloat($(".PorcMyAv1r").val().replace(/,/g, ""));
                var MyAv2p = parseFloat($(".PorcMyAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Myv1r - Myv2p) / Myv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (MyAv1r - MyAv2p) / MyAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcMyRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcMyRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Myv1r / Myv2p);
                        total = (total * 100) / meta;

                        totalmesac = (MyAv1r / MyAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Myv1r / Myv2p) * 100;
                        totalmesac = (MyAv1r / MyAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcMyRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcMyRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }
                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcMymes").val(total + "%");
                }
                else {
                    $(".PorcMymes").val(total.toFixed(2) + "%");
                }

                var Myanio = "";
                var MyRmes = parseFloat($(".PorcMyRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Myanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Myanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Myanio = (MyRmes * 100) / meta;
                    }
                }

                if (Number.isNaN(Myanio) || Myanio == "NaN" || Myanio == "" || Myanio == "0" || Myanio == "0.0" || Myanio == "Infinity" || Myanio == "-Infinity") {
                    Myanio = "0";
                    $(".PorcMyanio").val(Myanio + "%");
                }
                else {
                    $(".PorcMyanio").val(Myanio.toFixed(2) + "%");
                }
            }
        });
        $("#idMyv2p").keyup(function () {
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Myv2p = $(".PorcMyv2p").val();
            if (Number.isNaN(Myv2p) || Myv2p == "NaN" || Myv2p == "" || Myv2p == " " || Myv2p == "0") {
                Myv2p = "0";
                $(".PorcMyv2p").val(Myv2p);
                $(".PorcMyAv2p").val($(".PorcAbAv2p").val());
                $(".PorcMymes").val(Myv2p + "%")
                $(".PorcMyRmes").val(Myv2p + "%")
                $(".PorcMyanio").val(Myv2p + "%")
            }
            else {
                Myv2p = parseFloat(Myv2p.replace(/,/g, ""));
                var AbAv2p = parseFloat($(".PorcAbAv2p").val().replace(/,/g, ""));
                var MyAv2p = parseFloat(Myv2p) + parseFloat(AbAv2p);
                var valor = Myv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorMyAv2p = MyAv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcMyv2p").val(valor);
                $(".PorcMyAv2p").val(valorMyAv2p);
                Myv1r = $(".PorcMyv1r").val().replace(/,/g, "");
                var MyAv1r = parseFloat($(".PorcMyAv1r").val().replace(/,/g, ""));
                var MyAv2p = parseFloat($(".PorcMyAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Myv1r - Myv2p) / Myv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (MyAv1r - MyAv2p) / MyAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcMyRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcMyRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Myv1r / Myv2p);
                        total = (total * 100) / meta;

                        totalmesac = (MyAv1r / MyAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Myv1r / Myv2p) * 100;
                        totalmesac = (MyAv1r / MyAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcMyRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcMyRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }

                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcMymes").val(total + "%");
                }
                else {
                    $(".PorcMymes").val(total.toFixed(2) + "%");
                }

                var Myanio = "";
                var MyRmes = parseFloat($(".PorcMyRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Myanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Myanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Myanio = (MyRmes * 100) / meta;
                    }
                }
                if (Number.isNaN(Myanio) || Myanio == "NaN" || Myanio == "" || Myanio == "0" || Myanio == "0.0" || Myanio == "Infinity" || Myanio == "-Infinity") {
                    Myanio = "0";
                    $(".PorcMyanio").val(Myanio + "%");
                }
                else {
                    $(".PorcMyanio").val(Myanio.toFixed(2) + "%");
                }
            }
        });
        $("#idJnv1r").keyup(function () {
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Jnv1r = $(".PorcJnv1r").val();
            if (Number.isNaN(Jnv1r) || Jnv1r == "NaN" || Jnv1r == "" || Jnv1r == " " || Jnv1r == "0") {
                Jnv1r = "0";
                $(".PorcJnv1r").val(Jnv1r);
                $(".PorcJnAv1r").val($(".PorcAbAv1r").val());
                $(".PorcJnmes").val(Jnv1r + "%")
                $(".PorcJnRmes").val(Jnv1r + "%")
                $(".PorcJnanio").val(Jnv1r + "%")
            }
            else {
                var AbAv1r = parseFloat($(".PorcAbAv1r").val().replace(/,/g, ""));
                Jnv1r = parseFloat(Jnv1r.replace(/,/g, ""));
                JnAv1r = parseFloat(Jnv1r) + parseFloat(AbAv1r);
                var valor = Jnv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorJnAv1r = JnAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcJnv1r").val(valor);
                $(".PorcJnAv1r").val(valorJnAv1r);
                Jnv2p = $(".PorcJnv2p").val().replace(/,/g, "");
                var JnAv1r = parseFloat($(".PorcJnAv1r").val().replace(/,/g, ""));
                var JnAv2p = parseFloat($(".PorcJnAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Jnv1r - Jnv2p) / Jnv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (JnAv1r - JnAv2p) / JnAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcJnRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcJnRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Jnv1r / Jnv2p);
                        total = (total * 100) / meta;

                        totalmesac = (JnAv1r / JnAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Jnv1r / Jnv2p) * 100;
                        totalmesac = (JnAv1r / JnAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcJnRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcJnRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }
                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcJnmes").val(total + "%");
                }
                else {
                    $(".PorcJnmes").val(total.toFixed(2) + "%");
                }

                var Jnanio = "";
                var JnRmes = parseFloat($(".PorcJnRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Jnanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Jnanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Jnanio = (JnRmes * 100) / meta;
                    }
                }

                if (Number.isNaN(Jnanio) || Jnanio == "NaN" || Jnanio == "" || Jnanio == "0" || Jnanio == "0.0" || Jnanio == "Infinity" || Jnanio == "-Infinity") {
                    Jnanio = "0";
                    $(".PorcJnanio").val(Jnanio + "%");
                }
                else {
                    $(".PorcJnanio").val(Jnanio.toFixed(2) + "%");
                }
            }
        });
        $("#idJnv2p").keyup(function () {
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Jnv2p = $(".PorcJnv2p").val();
            if (Number.isNaN(Jnv2p) || Jnv2p == "NaN" || Jnv2p == "" || Jnv2p == " " || Jnv2p == "0") {
                Jnv2p = "0";
                $(".PorcJnv2p").val(Jnv2p);
                $(".PorcJnAv2p").val($(".PorcAbAv2p").val());
                $(".PorcJnmes").val(Jnv2p + "%")
                $(".PorcJnRmes").val(Jnv2p + "%")
                $(".PorcJnanio").val(Jnv2p + "%")
            }
            else {
                Jnv2p = parseFloat(Jnv2p.replace(/,/g, ""));
                var AbAv2p = parseFloat($(".PorcAbAv2p").val().replace(/,/g, ""));
                var JnAv2p = parseFloat(Jnv2p) + parseFloat(AbAv2p);
                var valor = Jnv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorJnAv2p = JnAv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcJnv2p").val(valor);
                $(".PorcJnAv2p").val(valorJnAv2p);
                Jnv1r = $(".PorcJnv1r").val().replace(/,/g, "");
                var JnAv1r = parseFloat($(".PorcJnAv1r").val().replace(/,/g, ""));
                var JnAv2p = parseFloat($(".PorcJnAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Jnv1r - Jnv2p) / Jnv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (JnAv1r - JnAv2p) / JnAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcJnRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcJnRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Jnv1r / Jnv2p);
                        total = (total * 100) / meta;

                        totalmesac = (JnAv1r / JnAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Jnv1r / Jnv2p) * 100;
                        totalmesac = (JnAv1r / JnAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcJnRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcJnRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }

                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcJnmes").val(total + "%");
                }
                else {
                    $(".PorcJnmes").val(total.toFixed(2) + "%");
                }

                var Jnanio = "";
                var JnRmes = parseFloat($(".PorcJnRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Jnanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Jnanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Jnanio = (JnRmes * 100) / meta;
                    }
                }
                if (Number.isNaN(Jnanio) || Jnanio == "NaN" || Jnanio == "" || Jnanio == "0" || Jnanio == "0.0" || Jnanio == "Infinity" || Jnanio == "-Infinity") {
                    Jnanio = "0";
                    $(".PorcJnanio").val(Jnanio + "%");
                }
                else {
                    $(".PorcJnanio").val(Jnanio.toFixed(2) + "%");
                }
            }
        });
        $("#idJlv1r").keyup(function () {
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Jlv1r = $(".PorcJlv1r").val();
            if (Number.isNaN(Jlv1r) || Jlv1r == "NaN" || Jlv1r == "" || Jlv1r == " " || Jlv1r == "0") {
                Jlv1r = "0";
                $(".PorcJlv1r").val(Jlv1r);
                $(".PorcJlAv1r").val($(".PorcAbAv1r").val());
                $(".PorcJlmes").val(Jlv1r + "%")
                $(".PorcJlRmes").val(Jlv1r + "%")
                $(".PorcJlanio").val(Jlv1r + "%")
            }
            else {
                var AbAv1r = parseFloat($(".PorcAbAv1r").val().replace(/,/g, ""));
                Jlv1r = parseFloat(Jlv1r.replace(/,/g, ""));
                JlAv1r = parseFloat(Jlv1r) + parseFloat(AbAv1r);
                var valor = Jlv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorJlAv1r = JlAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcJlv1r").val(valor);
                $(".PorcJlAv1r").val(valorJlAv1r);
                Jlv2p = $(".PorcJlv2p").val().replace(/,/g, "");
                var JlAv1r = parseFloat($(".PorcJlAv1r").val().replace(/,/g, ""));
                var JlAv2p = parseFloat($(".PorcJlAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Jlv1r - Jlv2p) / Jlv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (JlAv1r - JlAv2p) / JlAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcJlRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcJlRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Jlv1r / Jlv2p);
                        total = (total * 100) / meta;

                        totalmesac = (JlAv1r / JlAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Jlv1r / Jlv2p) * 100;
                        totalmesac = (JlAv1r / JlAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcJlRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcJlRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }
                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcJlmes").val(total + "%");
                }
                else {
                    $(".PorcJlmes").val(total.toFixed(2) + "%");
                }

                var Jlanio = "";
                var JlRmes = parseFloat($(".PorcJlRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Jlanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Jlanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Jlanio = (JlRmes * 100) / meta;
                    }
                }

                if (Number.isNaN(Jlanio) || Jlanio == "NaN" || Jlanio == "" || Jlanio == "0" || Jlanio == "0.0" || Jlanio == "Infinity" || Jlanio == "-Infinity") {
                    Jlanio = "0";
                    $(".PorcJlanio").val(Jlanio + "%");
                }
                else {
                    $(".PorcJlanio").val(Jlanio.toFixed(2) + "%");
                }
            }
        });
        $("#idJlv2p").keyup(function () {
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Jlv2p = $(".PorcJlv2p").val();
            if (Number.isNaN(Jlv2p) || Jlv2p == "NaN" || Jlv2p == "" || Jlv2p == " " || Jlv2p == "0") {
                Jlv2p = "0";
                $(".PorcJlv2p").val(Jlv2p);
                $(".PorcJlAv2p").val($(".PorcAbAv2p").val());
                $(".PorcJlmes").val(Jlv2p + "%")
                $(".PorcJlRmes").val(Jlv2p + "%")
                $(".PorcJlanio").val(Jlv2p + "%")
            }
            else {
                Jlv2p = parseFloat(Jlv2p.replace(/,/g, ""));
                var AbAv2p = parseFloat($(".PorcAbAv2p").val().replace(/,/g, ""));
                var JlAv2p = parseFloat(Jlv2p) + parseFloat(AbAv2p);
                var valor = Jlv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorJlAv2p = JlAv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcJlv2p").val(valor);
                $(".PorcJlAv2p").val(valorJlAv2p);
                Jlv1r = $(".PorcJlv1r").val().replace(/,/g, "");
                var JlAv1r = parseFloat($(".PorcJlAv1r").val().replace(/,/g, ""));
                var JlAv2p = parseFloat($(".PorcJlAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Jlv1r - Jlv2p) / Jlv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (JlAv1r - JlAv2p) / JlAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcJlRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcJlRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Jlv1r / Jlv2p);
                        total = (total * 100) / meta;

                        totalmesac = (JlAv1r / JlAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Jlv1r / Jlv2p) * 100;
                        totalmesac = (JlAv1r / JlAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcJlRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcJlRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }

                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcJlmes").val(total + "%");
                }
                else {
                    $(".PorcJlmes").val(total.toFixed(2) + "%");
                }

                var Jlanio = "";
                var JlRmes = parseFloat($(".PorcJlRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Jlanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Jlanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Jlanio = (JlRmes * 100) / meta;
                    }
                }
                if (Number.isNaN(Jlanio) || Jlanio == "NaN" || Jlanio == "" || Jlanio == "0" || Jlanio == "0.0" || Jlanio == "Infinity" || Jlanio == "-Infinity") {
                    Jlanio = "0";
                    $(".PorcJlanio").val(Jlanio + "%");
                }
                else {
                    $(".PorcJlanio").val(Jlanio.toFixed(2) + "%");
                }
            }
        });
        $("#idAgv1r").keyup(function () {
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Agv1r = $(".PorcAgv1r").val();
            if (Number.isNaN(Agv1r) || Agv1r == "NaN" || Agv1r == "" || Agv1r == " " || Agv1r == "0") {
                Agv1r = "0";
                $(".PorcAgv1r").val(Agv1r);
                $(".PorcAgAv1r").val($(".PorcAbAv1r").val());
                $(".PorcAgmes").val(Agv1r + "%")
                $(".PorcAgRmes").val(Agv1r + "%")
                $(".PorcAganio").val(Agv1r + "%")
            }
            else {
                var AbAv1r = parseFloat($(".PorcAbAv1r").val().replace(/,/g, ""));
                Agv1r = parseFloat(Agv1r.replace(/,/g, ""));
                AgAv1r = parseFloat(Agv1r) + parseFloat(AbAv1r);
                var valor = Agv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorAgAv1r = AgAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcAgv1r").val(valor);
                $(".PorcAgAv1r").val(valorAgAv1r);
                Agv2p = $(".PorcAgv2p").val().replace(/,/g, "");
                var AgAv1r = parseFloat($(".PorcAgAv1r").val().replace(/,/g, ""));
                var AgAv2p = parseFloat($(".PorcAgAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Agv1r - Agv2p) / Agv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (AgAv1r - AgAv2p) / AgAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcAgRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcAgRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Agv1r / Agv2p);
                        total = (total * 100) / meta;

                        totalmesac = (AgAv1r / AgAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Agv1r / Agv2p) * 100;
                        totalmesac = (AgAv1r / AgAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcAgRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcAgRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }
                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcAgmes").val(total + "%");
                }
                else {
                    $(".PorcAgmes").val(total.toFixed(2) + "%");
                }

                var Aganio = "";
                var AgRmes = parseFloat($(".PorcAgRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Aganio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Aganio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Aganio = (AgRmes * 100) / meta;
                    }
                }

                if (Number.isNaN(Aganio) || Aganio == "NaN" || Aganio == "" || Aganio == "0" || Aganio == "0.0" || Aganio == "Infinity" || Aganio == "-Infinity") {
                    Aganio = "0";
                    $(".PorcAganio").val(Aganio + "%");
                }
                else {
                    $(".PorcAganio").val(Aganio.toFixed(2) + "%");
                }
            }
        });
        $("#idAgv2p").keyup(function () {
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Agv2p = $(".PorcAgv2p").val();
            if (Number.isNaN(Agv2p) || Agv2p == "NaN" || Agv2p == "" || Agv2p == " " || Agv2p == "0") {
                Agv2p = "0";
                $(".PorcAgv2p").val(Agv2p);
                $(".PorcAgAv2p").val($(".PorcAbAv2p").val());
                $(".PorcAgmes").val(Agv2p + "%")
                $(".PorcAgRmes").val(Agv2p + "%")
                $(".PorcAganio").val(Agv2p + "%")
            }
            else {
                Agv2p = parseFloat(Agv2p.replace(/,/g, ""));
                var AbAv2p = parseFloat($(".PorcAbAv2p").val().replace(/,/g, ""));
                var AgAv2p = parseFloat(Agv2p) + parseFloat(AbAv2p);
                var valor = Agv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorAgAv2p = AgAv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcAgv2p").val(valor);
                $(".PorcAgAv2p").val(valorAgAv2p);
                Agv1r = $(".PorcAgv1r").val().replace(/,/g, "");
                var AgAv1r = parseFloat($(".PorcAgAv1r").val().replace(/,/g, ""));
                var AgAv2p = parseFloat($(".PorcAgAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Agv1r - Agv2p) / Agv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (AgAv1r - AgAv2p) / AgAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcAgRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcAgRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Agv1r / Agv2p);
                        total = (total * 100) / meta;

                        totalmesac = (AgAv1r / AgAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Agv1r / Agv2p) * 100;
                        totalmesac = (AgAv1r / AgAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcAgRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcAgRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }

                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcAgmes").val(total + "%");
                }
                else {
                    $(".PorcAgmes").val(total.toFixed(2) + "%");
                }

                var Aganio = "";
                var AgRmes = parseFloat($(".PorcAgRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Aganio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Aganio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Aganio = (AgRmes * 100) / meta;
                    }
                }
                if (Number.isNaN(Aganio) || Aganio == "NaN" || Aganio == "" || Aganio == "0" || Aganio == "0.0" || Aganio == "Infinity" || Aganio == "-Infinity") {
                    Aganio = "0";
                    $(".PorcAganio").val(Aganio + "%");
                }
                else {
                    $(".PorcAganio").val(Aganio.toFixed(2) + "%");
                }
            }
        });
        $("#idSpv1r").keyup(function () {
            var MetodSpalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Spv1r = $(".PorcSpv1r").val();
            if (Number.isNaN(Spv1r) || Spv1r == "NaN" || Spv1r == "" || Spv1r == " " || Spv1r == "0") {
                Spv1r = "0";
                $(".PorcSpv1r").val(Spv1r);
                $(".PorcSpAv1r").val($(".PorcAbAv1r").val());
                $(".PorcSpmes").val(Spv1r + "%")
                $(".PorcSpRmes").val(Spv1r + "%")
                $(".PorcSpanio").val(Spv1r + "%")
            }
            else {
                var AbAv1r = parseFloat($(".PorcAbAv1r").val().replace(/,/g, ""));
                Spv1r = parseFloat(Spv1r.replace(/,/g, ""));
                SpAv1r = parseFloat(Spv1r) + parseFloat(AbAv1r);
                var valor = Spv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorSpAv1r = SpAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcSpv1r").val(valor);
                $(".PorcSpAv1r").val(valorSpAv1r);
                Spv2p = $(".PorcSpv2p").val().replace(/,/g, "");
                var SpAv1r = parseFloat($(".PorcSpAv1r").val().replace(/,/g, ""));
                var SpAv2p = parseFloat($(".PorcSpAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Spv1r - Spv2p) / Spv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (SpAv1r - SpAv2p) / SpAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcSpRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcSpRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodSpalculo == 4) {
                        total = (Spv1r / Spv2p);
                        total = (total * 100) / meta;

                        totalmesac = (SpAv1r / SpAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Spv1r / Spv2p) * 100;
                        totalmesac = (SpAv1r / SpAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcSpRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcSpRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }
                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcSpmes").val(total + "%");
                }
                else {
                    $(".PorcSpmes").val(total.toFixed(2) + "%");
                }

                var Spanio = "";
                var SpRmes = parseFloat($(".PorcSpRmes").val().replace("%", ""));
                if (MetodSpalculo == 4) {
                    Spanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Spanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Spanio = (SpRmes * 100) / meta;
                    }
                }

                if (Number.isNaN(Spanio) || Spanio == "NaN" || Spanio == "" || Spanio == "0" || Spanio == "0.0" || Spanio == "Infinity" || Spanio == "-Infinity") {
                    Spanio = "0";
                    $(".PorcSpanio").val(Spanio + "%");
                }
                else {
                    $(".PorcSpanio").val(Spanio.toFixed(2) + "%");
                }
            }
        });
        $("#idSpv2p").keyup(function () {
            var MetodSpalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Spv2p = $(".PorcSpv2p").val();
            if (Number.isNaN(Spv2p) || Spv2p == "NaN" || Spv2p == "" || Spv2p == " " || Spv2p == "0") {
                Spv2p = "0";
                $(".PorcSpv2p").val(Spv2p);
                $(".PorcSpAv2p").val($(".PorcAbAv2p").val());
                $(".PorcSpmes").val(Spv2p + "%")
                $(".PorcSpRmes").val(Spv2p + "%")
                $(".PorcSpanio").val(Spv2p + "%")
            }
            else {
                Spv2p = parseFloat(Spv2p.replace(/,/g, ""));
                var AbAv2p = parseFloat($(".PorcAbAv2p").val().replace(/,/g, ""));
                var SpAv2p = parseFloat(Spv2p) + parseFloat(AbAv2p);
                var valor = Spv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorSpAv2p = SpAv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcSpv2p").val(valor);
                $(".PorcSpAv2p").val(valorSpAv2p);
                Spv1r = $(".PorcSpv1r").val().replace(/,/g, "");
                var SpAv1r = parseFloat($(".PorcSpAv1r").val().replace(/,/g, ""));
                var SpAv2p = parseFloat($(".PorcSpAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Spv1r - Spv2p) / Spv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (SpAv1r - SpAv2p) / SpAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcSpRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcSpRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodSpalculo == 4) {
                        total = (Spv1r / Spv2p);
                        total = (total * 100) / meta;

                        totalmesac = (SpAv1r / SpAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Spv1r / Spv2p) * 100;
                        totalmesac = (SpAv1r / SpAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcSpRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcSpRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }

                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcSpmes").val(total + "%");
                }
                else {
                    $(".PorcSpmes").val(total.toFixed(2) + "%");
                }

                var Spanio = "";
                var SpRmes = parseFloat($(".PorcSpRmes").val().replace("%", ""));
                if (MetodSpalculo == 4) {
                    Spanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Spanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Spanio = (SpRmes * 100) / meta;
                    }
                }
                if (Number.isNaN(Spanio) || Spanio == "NaN" || Spanio == "" || Spanio == "0" || Spanio == "0.0" || Spanio == "Infinity" || Spanio == "-Infinity") {
                    Spanio = "0";
                    $(".PorcSpanio").val(Spanio + "%");
                }
                else {
                    $(".PorcSpanio").val(Spanio.toFixed(2) + "%");
                }
            }
        });
        $("#idOcv1r").keyup(function () {
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Ocv1r = $(".PorcOcv1r").val();
            if (Number.isNaN(Ocv1r) || Ocv1r == "NaN" || Ocv1r == "" || Ocv1r == " " || Ocv1r == "0") {
                Ocv1r = "0";
                $(".PorcOcv1r").val(Ocv1r);
                $(".PorcOcAv1r").val($(".PorcAbAv1r").val());
                $(".PorcOcmes").val(Ocv1r + "%")
                $(".PorcOcRmes").val(Ocv1r + "%")
                $(".PorcOcanio").val(Ocv1r + "%")
            }
            else {
                var AbAv1r = parseFloat($(".PorcAbAv1r").val().replace(/,/g, ""));
                Ocv1r = parseFloat(Ocv1r.replace(/,/g, ""));
                OcAv1r = parseFloat(Ocv1r) + parseFloat(AbAv1r);
                var valor = Ocv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorOcAv1r = OcAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcOcv1r").val(valor);
                $(".PorcOcAv1r").val(valorOcAv1r);
                Ocv2p = $(".PorcOcv2p").val().replace(/,/g, "");
                var OcAv1r = parseFloat($(".PorcOcAv1r").val().replace(/,/g, ""));
                var OcAv2p = parseFloat($(".PorcOcAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Ocv1r - Ocv2p) / Ocv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (OcAv1r - OcAv2p) / OcAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcOcRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcOcRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Ocv1r / Ocv2p);
                        total = (total * 100) / meta;

                        totalmesac = (OcAv1r / OcAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Ocv1r / Ocv2p) * 100;
                        totalmesac = (OcAv1r / OcAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcOcRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcOcRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }
                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcOcmes").val(total + "%");
                }
                else {
                    $(".PorcOcmes").val(total.toFixed(2) + "%");
                }

                var Ocanio = "";
                var OcRmes = parseFloat($(".PorcOcRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Ocanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Ocanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Ocanio = (OcRmes * 100) / meta;
                    }
                }

                if (Number.isNaN(Ocanio) || Ocanio == "NaN" || Ocanio == "" || Ocanio == "0" || Ocanio == "0.0" || Ocanio == "Infinity" || Ocanio == "-Infinity") {
                    Ocanio = "0";
                    $(".PorcOcanio").val(Ocanio + "%");
                }
                else {
                    $(".PorcOcanio").val(Ocanio.toFixed(2) + "%");
                }
            }
        });
        $("#idOcv2p").keyup(function () {
            var MetodoCalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Ocv2p = $(".PorcOcv2p").val();
            if (Number.isNaN(Ocv2p) || Ocv2p == "NaN" || Ocv2p == "" || Ocv2p == " " || Ocv2p == "0") {
                Ocv2p = "0";
                $(".PorcOcv2p").val(Ocv2p);
                $(".PorcOcAv2p").val($(".PorcAbAv2p").val());
                $(".PorcOcmes").val(Ocv2p + "%")
                $(".PorcOcRmes").val(Ocv2p + "%")
                $(".PorcOcanio").val(Ocv2p + "%")
            }
            else {
                Ocv2p = parseFloat(Ocv2p.replace(/,/g, ""));
                var AbAv2p = parseFloat($(".PorcAbAv2p").val().replace(/,/g, ""));
                var OcAv2p = parseFloat(Ocv2p) + parseFloat(AbAv2p);
                var valor = Ocv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorOcAv2p = OcAv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcOcv2p").val(valor);
                $(".PorcOcAv2p").val(valorOcAv2p);
                Ocv1r = $(".PorcOcv1r").val().replace(/,/g, "");
                var OcAv1r = parseFloat($(".PorcOcAv1r").val().replace(/,/g, ""));
                var OcAv2p = parseFloat($(".PorcOcAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Ocv1r - Ocv2p) / Ocv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (OcAv1r - OcAv2p) / OcAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcOcRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcOcRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodoCalculo == 4) {
                        total = (Ocv1r / Ocv2p);
                        total = (total * 100) / meta;

                        totalmesac = (OcAv1r / OcAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Ocv1r / Ocv2p) * 100;
                        totalmesac = (OcAv1r / OcAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcOcRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcOcRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }

                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcOcmes").val(total + "%");
                }
                else {
                    $(".PorcOcmes").val(total.toFixed(2) + "%");
                }

                var Ocanio = "";
                var OcRmes = parseFloat($(".PorcOcRmes").val().replace("%", ""));
                if (MetodoCalculo == 4) {
                    Ocanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Ocanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Ocanio = (OcRmes * 100) / meta;
                    }
                }
                if (Number.isNaN(Ocanio) || Ocanio == "NaN" || Ocanio == "" || Ocanio == "0" || Ocanio == "0.0" || Ocanio == "Infinity" || Ocanio == "-Infinity") {
                    Ocanio = "0";
                    $(".PorcOcanio").val(Ocanio + "%");
                }
                else {
                    $(".PorcOcanio").val(Ocanio.toFixed(2) + "%");
                }
            }
        });
        $("#idNvv1r").keyup(function () {
            var MetodNvalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Nvv1r = $(".PorcNvv1r").val();
            if (Number.isNaN(Nvv1r) || Nvv1r == "NaN" || Nvv1r == "" || Nvv1r == " " || Nvv1r == "0") {
                Nvv1r = "0";
                $(".PorcNvv1r").val(Nvv1r);
                $(".PorcNvAv1r").val($(".PorcAbAv1r").val());
                $(".PorcNvmes").val(Nvv1r + "%")
                $(".PorcNvRmes").val(Nvv1r + "%")
                $(".PorcNvanio").val(Nvv1r + "%")
            }
            else {
                var AbAv1r = parseFloat($(".PorcAbAv1r").val().replace(/,/g, ""));
                Nvv1r = parseFloat(Nvv1r.replace(/,/g, ""));
                NvAv1r = parseFloat(Nvv1r) + parseFloat(AbAv1r);
                var valor = Nvv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorNvAv1r = NvAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcNvv1r").val(valor);
                $(".PorcNvAv1r").val(valorNvAv1r);
                Nvv2p = $(".PorcNvv2p").val().replace(/,/g, "");
                var NvAv1r = parseFloat($(".PorcNvAv1r").val().replace(/,/g, ""));
                var NvAv2p = parseFloat($(".PorcNvAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Nvv1r - Nvv2p) / Nvv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (NvAv1r - NvAv2p) / NvAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcNvRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcNvRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodNvalculo == 4) {
                        total = (Nvv1r / Nvv2p);
                        total = (total * 100) / meta;

                        totalmesac = (NvAv1r / NvAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Nvv1r / Nvv2p) * 100;
                        totalmesac = (NvAv1r / NvAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcNvRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcNvRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }
                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcNvmes").val(total + "%");
                }
                else {
                    $(".PorcNvmes").val(total.toFixed(2) + "%");
                }

                var Nvanio = "";
                var NvRmes = parseFloat($(".PorcNvRmes").val().replace("%", ""));
                if (MetodNvalculo == 4) {
                    Nvanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Nvanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Nvanio = (NvRmes * 100) / meta;
                    }
                }

                if (Number.isNaN(Nvanio) || Nvanio == "NaN" || Nvanio == "" || Nvanio == "0" || Nvanio == "0.0" || Nvanio == "Infinity" || Nvanio == "-Infinity") {
                    Nvanio = "0";
                    $(".PorcNvanio").val(Nvanio + "%");
                }
                else {
                    $(".PorcNvanio").val(Nvanio.toFixed(2) + "%");
                }
            }
        });
        $("#idNvv2p").keyup(function () {
            var MetodNvalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Nvv2p = $(".PorcNvv2p").val();
            if (Number.isNaN(Nvv2p) || Nvv2p == "NaN" || Nvv2p == "" || Nvv2p == " " || Nvv2p == "0") {
                Nvv2p = "0";
                $(".PorcNvv2p").val(Nvv2p);
                $(".PorcNvAv2p").val($(".PorcAbAv2p").val());
                $(".PorcNvmes").val(Nvv2p + "%")
                $(".PorcNvRmes").val(Nvv2p + "%")
                $(".PorcNvanio").val(Nvv2p + "%")
            }
            else {
                Nvv2p = parseFloat(Nvv2p.replace(/,/g, ""));
                var AbAv2p = parseFloat($(".PorcAbAv2p").val().replace(/,/g, ""));
                var NvAv2p = parseFloat(Nvv2p) + parseFloat(AbAv2p);
                var valor = Nvv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorNvAv2p = NvAv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcNvv2p").val(valor);
                $(".PorcNvAv2p").val(valorNvAv2p);
                Nvv1r = $(".PorcNvv1r").val().replace(/,/g, "");
                var NvAv1r = parseFloat($(".PorcNvAv1r").val().replace(/,/g, ""));
                var NvAv2p = parseFloat($(".PorcNvAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Nvv1r - Nvv2p) / Nvv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (NvAv1r - NvAv2p) / NvAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcNvRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcNvRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodNvalculo == 4) {
                        total = (Nvv1r / Nvv2p);
                        total = (total * 100) / meta;

                        totalmesac = (NvAv1r / NvAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Nvv1r / Nvv2p) * 100;
                        totalmesac = (NvAv1r / NvAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcNvRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcNvRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }

                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcNvmes").val(total + "%");
                }
                else {
                    $(".PorcNvmes").val(total.toFixed(2) + "%");
                }

                var Nvanio = "";
                var NvRmes = parseFloat($(".PorcNvRmes").val().replace("%", ""));
                if (MetodNvalculo == 4) {
                    Nvanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Nvanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Nvanio = (NvRmes * 100) / meta;
                    }
                }
                if (Number.isNaN(Nvanio) || Nvanio == "NaN" || Nvanio == "" || Nvanio == "0" || Nvanio == "0.0" || Nvanio == "Infinity" || Nvanio == "-Infinity") {
                    Nvanio = "0";
                    $(".PorcNvanio").val(Nvanio + "%");
                }
                else {
                    $(".PorcNvanio").val(Nvanio.toFixed(2) + "%");
                }
            }
        });
        $("#idDcv1r").keyup(function () {
            var MetodDcalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Dcv1r = $(".PorcDcv1r").val();
            if (Number.isNaN(Dcv1r) || Dcv1r == "NaN" || Dcv1r == "" || Dcv1r == " " || Dcv1r == "0") {
                Dcv1r = "0";
                $(".PorcDcv1r").val(Dcv1r);
                $(".PorcDcAv1r").val($(".PorcAbAv1r").val());
                $(".PorcDcmes").val(Dcv1r + "%")
                $(".PorcDcRmes").val(Dcv1r + "%")
                $(".PorcDcanio").val(Dcv1r + "%")
            }
            else {
                var AbAv1r = parseFloat($(".PorcAbAv1r").val().replace(/,/g, ""));
                Dcv1r = parseFloat(Dcv1r.replace(/,/g, ""));
                DcAv1r = parseFloat(Dcv1r) + parseFloat(AbAv1r);
                var valor = Dcv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorDcAv1r = DcAv1r.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcDcv1r").val(valor);
                $(".PorcDcAv1r").val(valorDcAv1r);
                Dcv2p = $(".PorcDcv2p").val().replace(/,/g, "");
                var DcAv1r = parseFloat($(".PorcDcAv1r").val().replace(/,/g, ""));
                var DcAv2p = parseFloat($(".PorcDcAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Dcv1r - Dcv2p) / Dcv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (DcAv1r - DcAv2p) / DcAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcDcRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcDcRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodDcalculo == 4) {
                        total = (Dcv1r / Dcv2p);
                        total = (total * 100) / meta;

                        totalmesac = (DcAv1r / DcAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Dcv1r / Dcv2p) * 100;
                        totalmesac = (DcAv1r / DcAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcDcRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcDcRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }
                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcDcmes").val(total + "%");
                }
                else {
                    $(".PorcDcmes").val(total.toFixed(2) + "%");
                }

                var Dcanio = "";
                var DcRmes = parseFloat($(".PorcDcRmes").val().replace("%", ""));
                if (MetodDcalculo == 4) {
                    Dcanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Dcanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Dcanio = (DcRmes * 100) / meta;
                    }
                }

                if (Number.isNaN(Dcanio) || Dcanio == "NaN" || Dcanio == "" || Dcanio == "0" || Dcanio == "0.0" || Dcanio == "Infinity" || Dcanio == "-Infinity") {
                    Dcanio = "0";
                    $(".PorcDcanio").val(Dcanio + "%");
                }
                else {
                    $(".PorcDcanio").val(Dcanio.toFixed(2) + "%");
                }
            }
        });
        $("#idDcv2p").keyup(function () {
            var MetodDcalculo = $("#MetodoDeCalculo").val();
            var variacion = $("#variacion").val();
            var meta = $("#Meta").val().replace(/,/g, "");
            meta = parseFloat(meta);
            var Dcv2p = $(".PorcDcv2p").val();
            if (Number.isNaN(Dcv2p) || Dcv2p == "NaN" || Dcv2p == "" || Dcv2p == " " || Dcv2p == "0") {
                Dcv2p = "0";
                $(".PorcDcv2p").val(Dcv2p);
                $(".PorcDcAv2p").val($(".PorcAbAv2p").val());
                $(".PorcDcmes").val(Dcv2p + "%")
                $(".PorcDcRmes").val(Dcv2p + "%")
                $(".PorcDcanio").val(Dcv2p + "%")
            }
            else {
                Dcv2p = parseFloat(Dcv2p.replace(/,/g, ""));
                var AbAv2p = parseFloat($(".PorcAbAv2p").val().replace(/,/g, ""));
                var DcAv2p = parseFloat(Dcv2p) + parseFloat(AbAv2p);
                var valor = Dcv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                var valorDcAv2p = DcAv2p.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                if (Number.isNaN(valor)) {
                    valor = "0";
                }
                else if (valor == "NaN") {
                    valor = "0";
                }
                $(".PorcDcv2p").val(valor);
                $(".PorcDcAv2p").val(valorDcAv2p);
                Dcv1r = $(".PorcDcv1r").val().replace(/,/g, "");
                var DcAv1r = parseFloat($(".PorcDcAv1r").val().replace(/,/g, ""));
                var DcAv2p = parseFloat($(".PorcDcAv2p").val().replace(/,/g, ""));
                var total = "0"
                var Ranio = "";
                var totalmesac = "0";
                if (variacion == 1 || variacion == "1") {
                    var R = ""; var Racu = "";
                    var P = ""; var Pacu = "";
                    var Ranio = "";
                    R = (Dcv1r - Dcv2p) / Dcv2p;
                    P = (R * 100);
                    if (Number.isNaN(P) || P == "NaN" || P == "" || P == "Infinity" || P == "0" || P == "-Infinity" || P == "0.0") {
                        P = "0.0";
                    }
                    total = P;
                    Racu = (DcAv1r - DcAv2p) / DcAv2p;
                    Pacu = (Racu * 100);
                    Ranio = Racu;
                    if (Number.isNaN(Pacu) || Pacu == "NaN" || Pacu == "" || Pacu == "Infinity" || Pacu == "-Infinity" || Pacu == "0" || Pacu == "0.0") {
                        Pacu = "0.0";
                        $(".PorcDcRmes").val(Pacu + "%");
                    }
                    else {
                        $(".PorcDcRmes").val(Pacu.toFixed(2) + "%");
                    }
                }
                else {
                    if (MetodDcalculo == 4) {
                        total = (Dcv1r / Dcv2p);
                        total = (total * 100) / meta;

                        totalmesac = (DcAv1r / DcAv2p);
                        totalmesac = (totalmesac * 100) / meta;
                    }
                    else {
                        total = (Dcv1r / Dcv2p) * 100;
                        totalmesac = (DcAv1r / DcAv2p) * 100;
                    }
                    if (Number.isNaN(totalmesac) || totalmesac == "NaN" || totalmesac == "" || totalmesac == "Infinity" || totalmesac == "-Infinity" || totalmesac == "0" || totalmesac == "0.0") {
                        totalmesac = "0";
                        $(".PorcDcRmes").val(totalmesac + "%");
                    }
                    else {
                        $(".PorcDcRmes").val(totalmesac.toFixed(2) + "%");
                    }
                }

                if (Number.isNaN(total) || total == "NaN" || total == "" || total == "0" || total == "0.0" || total == "Infinity" || total == "-Infinity") {
                    total = "0";
                    $(".PorcDcmes").val(total + "%");
                }
                else {
                    $(".PorcDcmes").val(total.toFixed(2) + "%");
                }

                var Dcanio = "";
                var DcRmes = parseFloat($(".PorcDcRmes").val().replace("%", ""));
                if (MetodDcalculo == 4) {
                    Dcanio = totalmesac;
                }
                else {
                    if (variacion == 1 || variacion == "1") {
                        Dcanio = ((Ranio / meta) * 100) * 100;
                    }
                    else {
                        Dcanio = (DcRmes * 100) / meta;
                    }
                }
                if (Number.isNaN(Dcanio) || Dcanio == "NaN" || Dcanio == "" || Dcanio == "0" || Dcanio == "0.0" || Dcanio == "Infinity" || Dcanio == "-Infinity") {
                    Dcanio = "0";
                    $(".PorcDcanio").val(Dcanio + "%");
                }
                else {
                    $(".PorcDcanio").val(Dcanio.toFixed(2) + "%");
                }
            }
        });

    });
</script>

<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog" style="max-width:90%;">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header text-center">
                <h4 class="modal-title text-center">Reporte avance mensual</h4>
            </div>
            <div class="modal-body">

                <div class="container">
                    <input type="hidden" id="idficha"><div class="col-lg-12">
                        <input type="hidden" id="idcalendario">
                        <div class="card">
                            <div class="card-header text-center ">
                                @*<h1>Ficha</h1>*@
                            </div>
                            <div class="card-body" style="font-size:11px;">
                                <div class="row">
                                    <div class="col-md-12">
                                        <input type="hidden" id="variacion" />
                                        <div class="row">
                                            <div class="col-md-2 col-sm-2 text-center  form-group has-feedback ml-2 pt-3" style="background-color:#e4dcd7;color:#484441;font-weight:bold;">
                                                <label class="label">Dirección</label>
                                            </div>
                                            <div class="col-md-9 col-sm-9  form-group has-feedback">
                                                <div class="form-group">
                                                    <input type="text" class="form-control" id="dir" readonly />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-2 col-sm-2 text-center  form-group has-feedback ml-2 pt-3" style="background-color:#e4dcd7;color:#484441;font-weight:bold; text-align:center;">
                                                <label class="label">Nombre del Indicador</label>
                                            </div>
                                            <div class="col-md-9 col-sm-9  form-group has-feedback">
                                                <div class="form-group">
                                                    <input type="text" class="form-control" readonly id="indicador" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-2 col-sm-2 text-center  form-group has-feedback ml-2 pt-3" style="background-color:#e4dcd7;color:#484441;font-weight:bold;">
                                                <label class="label">Meta Anual</label>
                                            </div>
                                            <div class="col-md-9 col-sm-9  form-group has-feedback">
                                                <div class="form-group">
                                                    <input type="text" class="form-control" id="Meta" readonly />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div>
                                                    <table class="table table-responsive w-100">
                                                        <thead>
                                                            <tr class="label label-default" style="background-color:#5e6060; color:white;font-size:11px;font-weight:bold; text-align:center;">
                                                                <th scope="col" style="width:10%;">

                                                                </th>
                                                                <th scope="col" style="width:10%;">
                                                                    Realizado
                                                                </th>
                                                                <th scope="col" style="width:10%;">
                                                                    Programado
                                                                </th>
                                                                <th scope="col" style="width:10%;">
                                                                    <span class="label label-default" style="font-size:11px;">
                                                                        Acumulado
                                                                    </span>
                                                                    <br />
                                                                    Realizado
                                                                </th>
                                                                <th scope="col" style="width:10%;">
                                                                    <span class="label label-default" style="font-size:11px;">
                                                                        Acumulado
                                                                    </span>
                                                                    <br />
                                                                    Programado
                                                                </th>
                                                                <th scope="col" style="width:10%;">
                                                                    Avance del mes
                                                                </th>
                                                                <th scope="col" style="width:10%;">
                                                                    Avance al mes
                                                                </th>
                                                                <th scope="col" style="width:10%;">
                                                                    Avance al año
                                                                </th>
                                                                <th scope="col" style="width:11%;">
                                                                    Semaforización al mes
                                                                </th>
                                                                <th scope="col" style="width:10%;">

                                                                </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td style="background-color:#5e6060; color:white;font-size:11px;font-weight:bold; text-align:center;">
                                                                    <span class="label label-default" style="font-size:14px;">
                                                                        Enero
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idEnv1r" onkeyup="GetIdEnero(event)" class="form-control txt  realizado idEnv1r  PorcEnv1r Env1r" />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idEnv2p" class="form-control txt  idEnv2p PorcEnv2p Env2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idEnAv1r" class="form-control txt  idEnAv1r PorcEnAv1r EnAv1r" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idEnAv2p" class="form-control txt  idEnAv2p PorcEnAv2p EnAv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idEnmes" class="form-control txt  idEnmes PorcEnmes Enmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idEnRmes" class="form-control txt  idEnRmes PorcEnRmes EnRmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idEnanio" class="form-control txt  idEnanio PorcEnanio Enanio" readonly />
                                                                </td>
                                                                <td>
                                                                    <div id="spanEn" style="width:100%;">

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <button type="button" id="En" class="btn btn-secondary btn-block  btnmes realizadomes">
                                                                        Guardar
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                            <tr style="font-size:11px;">
                                                                <td style="background-color:#5e6060; color:white;font-size:11px;font-weight:bold; text-align:center;">
                                                                    <span class="label label-default" style="font-size:14px;">
                                                                        Febrero
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idFbv1r" onkeyup="GetId(event)" class="form-control txt  realizado idFbv1r  PorcFbv1r Fbv1r" />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idFbv2p" class="form-control txt  idFbv2p PorcFbv2p Fbv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idFbAv1r" class="form-control txt  idFbAv1r PorcFbAv1r FbAv1r" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idFbAv2p" class="form-control txt  idFbAv2p PorcFbAv2p FbAv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idFbmes" class="form-control txt  idFbmes PorcFbmes Fbmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idFbRmes" class="form-control txt  idFbRmes PorcFbRmes FbRmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idFbanio" class="form-control txt  idFbanio PorcFbanio Fbanio" readonly />
                                                                </td>
                                                                <td>
                                                                    <div id="spanFb" style="width:100%;">

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <button type="button" id="Fb" class="btn btn-secondary btn-block  btnmes realizadomes">
                                                                        Guardar
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td style="background-color:#5e6060; color:white;font-size:11px;font-weight:bold; text-align:center;">
                                                                    <span class="label label-default" style="font-size:14px;">
                                                                        Marzo
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idMzv1r" onkeyup="GetId(event)" class="form-control txt  realizado idMzv1r  PorcMzv1r Mzv1r" />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idMzv2p" class="form-control txt  idMzv2p PorcMzv2p Mzv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idMzAv1r" class="form-control txt  idMzAv1r PorcMzAv1r MzAv1r" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idMzAv2p" class="form-control txt  idMzAv2p PorcMzAv2p MzAv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idMzmes" class="form-control txt  idMzmes PorcMzmes Mzmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idMzRmes" class="form-control txt  idMzRmes PorcMzRmes MzRmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idMzanio" class="form-control txt  idMzanio PorcMzanio Mzanio" readonly />
                                                                </td>
                                                                <td>
                                                                    <div id="spanMz" style="width:100%;">

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <button type="button" id="Mz" class="btn btn-secondary btn-block  btnmes realizadomes">
                                                                        Guardar
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td style="background-color:#5e6060; color:white;font-size:11px;font-weight:bold; text-align:center;">
                                                                    <span class="label label-default" style="font-size:14px;">
                                                                        Abril
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idAbv1r" onkeyup="GetId(event)" class="form-control txt  realizado idAbv1r  PorcAbv1r Abv1r" />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idAbv2p" class="form-control txt  idAbv2p PorcAbv2p Abv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idAbAv1r" class="form-control txt  idAbAv1r PorcAbAv1r AbAv1r" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idAbAv2p" class="form-control txt  idAbAv2p PorcAbAv2p AbAv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idAbmes" class="form-control txt  idAbmes PorcAbmes Abmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idAbRmes" class="form-control txt  idAbRmes PorcAbRmes AbRmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idAbanio" class="form-control txt  idAbanio PorcAbanio Abanio" readonly />
                                                                </td>
                                                                <td>
                                                                    <div id="spanAb" style="width:100%;">

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <button type="button" id="Ab" class="btn btn-secondary btn-block  btnmes realizadomes">
                                                                        Guardar
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td style="background-color:#5e6060; color:white;font-size:11px;font-weight:bold; text-align:center;">
                                                                    <span class="label label-default" style="font-size:14px;">
                                                                        Mayo
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idMyv1r" onkeyup="GetId(event)" class="form-control txt  realizado idMyv1r  PorcMyv1r Myv1r" />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idMyv2p" class="form-control txt  idMyv2p PorcMyv2p Myv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idMyAv1r" class="form-control txt  idMyAv1r PorcMyAv1r MyAv1r" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idMyAv2p" class="form-control txt  idMyAv2p PorcMyAv2p MyAv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idMymes" class="form-control txt  idMymes PorcMymes Mymes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idMyRmes" class="form-control txt  idMyRmes PorcMyRmes MyRmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idMyanio" class="form-control txt  idMyanio PorcMyanio Myanio" readonly />
                                                                </td>
                                                                <td>
                                                                    <div id="spanMy" style="width:100%;">

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <button type="button" id="My" class="btn btn-secondary btn-block  btnmes realizadomes">
                                                                        Guardar
                                                                    </button>
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td style="background-color:#5e6060; color:white;font-size:11px;font-weight:bold; text-align:center;">
                                                                    <span class="label label-default" style="font-size:14px;">
                                                                        Junio
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idJnv1r" onkeyup="GetId(event)" class="form-control txt  realizado idJnv1r  PorcJnv1r Jnv1r" />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idJnv2p" class="form-control txt  idJnv2p PorcJnv2p Jnv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idJnAv1r" class="form-control txt  idJnAv1r PorcJnAv1r JnAv1r" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idJnAv2p" class="form-control txt  idJnAv2p PorcJnAv2p JnAv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idJnmes" class="form-control txt  idJnmes PorcJnmes Jnmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idJnRmes" class="form-control txt  idJnRmes PorcJnRmes JnRmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idJnanio" class="form-control txt  idJnanio PorcJnanio Jnanio" readonly />
                                                                </td>
                                                                <td>
                                                                    <div id="spanJn" style="width:100%;">

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <button type="button" id="Jn" class="btn btn-secondary btn-block  btnmes realizadomes">
                                                                        Guardar
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td style="background-color:#5e6060; color:white;font-size:11px;font-weight:bold; text-align:center;">
                                                                    <span class="label label-default" style="font-size:14px;">
                                                                        Julio
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idJlv1r" onkeyup="GetId(event)" class="form-control txt  realizado idJlv1r  PorcJlv1r Jlv1r" />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idJlv2p" class="form-control txt  idJlv2p PorcJlv2p Jlv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idJlAv1r" class="form-control txt  idJlAv1r PorcJlAv1r JlAv1r" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idJlAv2p" class="form-control txt  idJlAv2p PorcJlAv2p JlAv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idJlmes" class="form-control txt  idJlmes PorcJlmes Jlmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idJlRmes" class="form-control txt  idJlRmes PorcJlRmes JlRmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idJlanio" class="form-control txt  idJlanio PorcJlanio Jlanio" readonly />
                                                                </td>
                                                                <td>
                                                                    <div id="spanJl" style="width:100%;">

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <button type="button" id="Jl" class="btn btn-secondary btn-block  btnmes realizadomes">
                                                                        Guardar
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td style="background-color:#5e6060; color:white;font-size:11px;font-weight:bold; text-align:center;">
                                                                    <span class="label label-default" style="font-size:14px;">
                                                                        Agosto
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idAgv1r" onkeyup="GetId(event)" class="form-control txt  realizado idAgv1r  PorcAgv1r Agv1r" />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idAgv2p" class="form-control txt  idAgv2p PorcAgv2p Agv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idAgAv1r" class="form-control txt  idAgAv1r PorcAgAv1r AgAv1r" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idAgAv2p" class="form-control txt  idAgAv2p PorcAgAv2p AgAv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idAgmes" class="form-control txt  idAgmes PorcAgmes Agmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idAgRmes" class="form-control txt  idAgRmes PorcAgRmes AgRmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idAganio" class="form-control txt  idAganio PorcAganio Aganio" readonly />
                                                                </td>
                                                                <td>
                                                                    <div id="spanAg" style="width:100%;">

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <button type="button" id="Ag" class="btn btn-secondary btn-block  btnmes realizadomes">
                                                                        Guardar
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td style="background-color:#5e6060; color:white;font-size:11px;font-weight:bold; text-align:center;">
                                                                    <span class="label label-default" style="font-size:14px;">
                                                                        Septiembre
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idSpv1r" onkeyup="GetId(event)" class="form-control txt  realizado idSpv1r  PorcSpv1r Spv1r" />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idSpv2p" class="form-control txt  idSpv2p PorcSpv2p Spv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idSpAv1r" class="form-control txt  idSpAv1r PorcSpAv1r SpAv1r" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idSpAv2p" class="form-control txt  idSpAv2p PorcSpAv2p SpAv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idSpmes" class="form-control txt  idSpmes PorcSpmes Spmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idSpRmes" class="form-control txt  idSpRmes PorcSpRmes SpRmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idSpanio" class="form-control txt  idSpanio PorcSpanio Spanio" readonly />
                                                                </td>
                                                                <td>
                                                                    <div id="spanSp" style="width:100%;">

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <button type="button" id="Sp" class="btn btn-secondary btn-block  btnmes realizadomes">
                                                                        Guardar
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td style="background-color:#5e6060; color:white;font-size:11px;font-weight:bold; text-align:center;">
                                                                    <span class="label label-default" style="font-size:14px;">
                                                                        Octubre
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idOcv1r" onkeyup="GetId(event)" class="form-control txt  realizado idOcv1r  PorcOcv1r Ocv1r" />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idOcv2p" class="form-control txt  idOcv2p PorcOcv2p Ocv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idOcAv1r" class="form-control txt  idOcAv1r PorcOcAv1r OcAv1r" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idOcAv2p" class="form-control txt  idOcAv2p PorcOcAv2p OcAv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idOcmes" class="form-control txt  idOcmes PorcOcmes Ocmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idOcRmes" class="form-control txt  idOcRmes PorcOcRmes OcRmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idOcanio" class="form-control txt  idOcanio PorcOcanio Ocanio" readonly />
                                                                </td>
                                                                <td>
                                                                    <div id="spanOc" style="width:100%;">

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <button type="button" id="Oc" class="btn btn-secondary btn-block  btnmes realizadomes">
                                                                        Guardar
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td style="background-color:#5e6060; color:white;font-size:11px;font-weight:bold; text-align:center;">
                                                                    <span class="label label-default" style="font-size:14px;">
                                                                        Noviembre
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idNvv1r" onkeyup="GetId(event)" class="form-control txt  realizado idNvv1r  PorcNvv1r Nvv1r" />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idNvv2p" class="form-control txt  idNvv2p PorcNvv2p Nvv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idNvAv1r" class="form-control txt  idNvAv1r PorcNvAv1r NvAv1r" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idNvAv2p" class="form-control txt  idNvAv2p PorcNvAv2p NvAv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idNvmes" class="form-control txt  idNvmes PorcNvmes Nvmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idNvRmes" class="form-control txt  idNvRmes PorcNvRmes NvRmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idNvanio" class="form-control txt  idNvanio PorcNvanio Nvanio" readonly />
                                                                </td>
                                                                <td>
                                                                    <div id="spanNv" style="width:100%;">

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <button type="button" id="Nv" class="btn btn-secondary btn-block  btnmes realizadomes">
                                                                        Guardar
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td style="background-color:#5e6060; color:white;font-size:11px;font-weight:bold; text-align:center;">
                                                                    <span class="label label-default" style="font-size:14px;">
                                                                        Diciembre
                                                                    </span>
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idDcv1r" onkeyup="GetId(event)" class="form-control txt  realizado idDcv1r  PorcDcv1r Dcv1r" />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idDcv2p" class="form-control txt  idDcv2p PorcDcv2p Dcv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idDcAv1r" class="form-control txt  idDcAv1r PorcDcAv1r DcAv1r" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idDcAv2p" class="form-control txt  idDcAv2p PorcDcAv2p DcAv2p" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idDcmes" class="form-control txt  idDcmes PorcDcmes Dcmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idDcRmes" class="form-control txt  idDcRmes PorcDcRmes DcRmes" readonly />
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="idDcanio" class="form-control txt  idDcanio PorcDcanio Dcanio" readonly />
                                                                </td>
                                                                <td>
                                                                    <div id="spanDc" style="width:100%;">

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <button type="button" id="Dc" class="btn btn-secondary btn-block  btnmes realizadomes">
                                                                        Guardar
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 col-sm-4 text-center">

                                </div>
                                <div class="col-md-4 col-sm-4 text-center">

                                    <button type="button" class="btn btn-secondary w-100" data-dismiss="modal">Cerrar</button>
                                </div>
                                <div class="col-md-4 col-sm-4 text-center">

                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <input type="hidden" id="Enhid" />
                <input type="hidden" id="Fbhid" />
                <input type="hidden" id="Mzhid" />
                <input type="hidden" id="Abhid" />
                <input type="hidden" id="Myhid" />
                <input type="hidden" id="Jnhid" />
                <input type="hidden" id="Jlhid" />
                <input type="hidden" id="Aghid" />
                <input type="hidden" id="Sphid" />
                <input type="hidden" id="Ochid" />
                <input type="hidden" id="Nvhid" />
                <input type="hidden" id="Dchid" />
                <input type="hidden" id="aniohide" />
            </div>
        </div>

    </div>
</div>   
<style>
</style>
<script>
    $(function ()
    {
        var $tabButtonItem = $('#tab-button li'),
            $tabSelect = $('#tab-select'),
            $tabContents = $('.tab-contents'),
            activeClass = 'is-active';

        $tabButtonItem.first().addClass(activeClass);
        $tabContents.not(':first').hide();

        $tabButtonItem.find('a').on('click', function (e)
        {
            var target = $(this).attr('href');

            $tabButtonItem.removeClass(activeClass);
            $(this).parent().addClass(activeClass);
            $tabSelect.val(target);
            $tabContents.hide();
            $(target).show();
            e.preventDefault();
        });

        $tabSelect.on('change', function ()
        {
            var target = $(this).val(),
                targetSelectNum = $(this).prop('selectedIndex');

            $tabButtonItem.removeClass(activeClass);
            $tabButtonItem.eq(targetSelectNum).addClass(activeClass);
            $tabContents.hide();
            $(target).show();
        });

        const monthNames = ["En", "Fb", "Mz", "Ab", "My", "Jn", "Jl", "Ag", "Sp", "Oc", "Nv", "Dc"];

        const d = new Date();

        var idlista = "lista" + monthNames[d.getMonth()];
        var ida = "A" + monthNames[d.getMonth()];

        var target = $("#" + ida).attr('href');
        $(".lista").removeClass("is-active");
        $("#" + idlista).addClass("is-active");
        $tabContents.hide();
        $(target).show();

        if (@User.Identity.GetIdGrupo()!=1)
        {    $(".realizado").prop("readonly", true);
            $(".realizado").css({ "cursor": "no-drop" });
            $(".realizadomes").hide();
            $("#"+monthNames[d.getMonth()]+"").show();

        }
        else
        {
            $(".realizadomes").show();
        }
    });
</script>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script>

</script>
<script>

    var pathserver = window.location.pathname;

    if (pathserver.includes("Indicadores")) {

        pathserver = "/Indicadores";
    }
    else {
        pathserver = "";
    }

    google.charts.load("current", { packages: ['corechart'] });
    google.charts.setOnLoadCallback(drawChart);
    function drawChart(a) {

        $.post(pathserver + '/Home/BarChart?iddetcalen=' + a, {},
            function (datos) {
                var data = new google.visualization.DataTable();

                data.addColumn('string', 'Mes');
                data.addColumn('number', 'Valor');
                data.addColumn({ role: "style" });
                data.addColumn({ role: "annotation" });

                for (var i = 0; i < datos.length; i++) {
                    data.addRow([datos[i].Mes, datos[i].Valor, datos[i].Color, datos[i].Val + '%']);
                }

                var options = {
                    title: "Gráfica de avance por mes ",
                    width: 600,
                    height: 400,
                    bar: { groupWidth: "95%" },
                    legend: { position: "none" },
                    vAxis: {
                        minValue: 0,
                        maxValue: 100,
                        format: '#\'%\'',
                        direction: 1
                    },

                    hAxis: {
                        textStyle: {
                            fontSize: 15,
                        }

                    }
                };
                var chart = new google.visualization.ColumnChart(document.getElementById('columnchart_values'));

                chart.draw(data, options);

            });

    }
</script>

<div id="myNav" class="overlay">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()" style="color:red;font-weight;">&times;</a>

    <div id="columnchart_values" style=" position: absolute;
    top: 28%;
    left: 31%;
    margin-top: -50px;
    margin-left: -50px;
    width: 100px;
    height: 100px;"></div>
</div>
<div class="modal fade" id="Email" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h4 class="modal-title w-100 font-weight-bold">Solicitud de cambio</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body mx-3">
                <div class="md-form">
                    <input type="hidden" id="code" />
                    <label data-error="wrong" data-success="right" for="form8" id="idmsj"></label>
                    <label data-error="wrong" data-success="right" for="form8">Mensaje</label>
                    <textarea type="text" id="mensaje" class="md-textarea form-control" rows="4"></textarea>
                </div>
            </div>
            <div class="modal-footer d-flex justify-content-center">
                <button class="btn btn-success w-100" id="btnenviar" onclick="SendEmail();">Enviar</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="Comentario" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h4 class="modal-title w-100 font-weight-bold">Ver Solicitud</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body mx-3">
                <input type="hidden" id="codecometario" />
                <div class="md-form" id="GetData">

                </div>
            </div>
            <div class="modal-footer d-flex justify-content-center">
                <button class="btn btn-success w-100" id="btnenviar" onclick="Cerrar();">Cerrar</button>
            </div>
        </div>
    </div>
</div>
<style>

    .txt {
        font-size: 10px;
    }
    .form-group {
        border-radius: 7px;
    }

    .form-control {
        border: 1px solid;
    }

    body {
        font-family: 'Open Sans', sans-serif;
        font-weight: 300;
    }

    .tabs {
        max-width: 100%;
        margin: 0 auto;
        padding: 0 20px;
    }

    #tab-button {
        font-size: 11px;
        display: table;
        table-layout: fixed;
        width: 100%;
        margin: 0;
        padding: 0;
        list-style: none;
    }

        #tab-button li {
            display: table-cell;
            width: 20%;
        }

            #tab-button li a {
                display: block;
                padding: .5em;
                background: #eee;
                border: 1px solid #ddd;
                text-align: center;
                color: #000;
                text-decoration: none;
            }

            #tab-button li:not(:first-child) a {
                border-left: none;
            }

            #tab-button li a:hover,
            #tab-button .is-active a {
                border-bottom-color: transparent;
                background: #fff;
            }

    .tab-contents {
        padding: .5em 2em 1em;
        border: 1px solid #ddd;
        text-align: center;
    }



    .tab-button-outer {
        display: none;
    }

    .tab-contents {
        margin-top: 20px;
    }

    @@media screen and (min-width: 768px) {
        .tab-button-outer {
            position: relative;
            z-index: 2;
            display: block;
        }

        .tab-select-outer {
            display: none;
        }

        .tab-contents {
            position: relative;
            top: -1px;
            margin-top: 0;
        }
    }

    .my_second_class {
        width: 1%;
        word-break: break-word;
    }

    .bd-example-modal-lg .modal-dialog {
        display: table;
        position: relative;
        margin: 0 auto;
        top: calc(50% - 24px);
    }

        .bd-example-modal-lg .modal-dialog .modal-content {
            background-color: transparent;
            color: red;
            font-weight: bold;
            border: none;
        }

    table.dataTable td {
        word-break: break-word;
    }

    .form-control {
        border-radius: 5px;
    }

    .dot {
        height: 30px;
        width: 30px;
        background-color: #bbb;
        border-radius: 50%;
        display: inline-block;
    }

    body {
        font-family: 'Lato', sans-serif;
    }

    .overlay {
        height: 100%;
        width: 0;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: rgb(0,0,0);
        background-color: rgba(0,0,0, 0.9);
        overflow-x: hidden;
        transition: 0.5s;
    }

    .Folio {
        width: 5%;
        text-align: center;
    }

    .Botones {
        width: 5%;
    }

    .Direccion {
        width: 5%;
    }


    .Meta {
        width: 6%;
        text-align: center;
        padding-left: 5px;
        padding-right: 5px;
    }

    .Indicador {
        width: 22%;
    }

    .Unidad {
        width: 9%;
    }

    .porcentaje {
        width: 10%;
    }

    .Realizado {
        width: 7%;
    }
    .Catg {
        width: 10%;
    }
    .Avance {
        width: 6%;
    }

    .overlay-content {
        position: relative;
        top: 25%;
        width: 100%;
        text-align: center;
        margin-top: 30px;
    }

    .overlay a {
        padding: 8px;
        text-decoration: none;
        font-size: 36px;
        color: #818181;
        display: block;
        transition: 0.3s;
    }

        .overlay a:hover, .overlay a:focus {
            color: #f1f1f1;
        }

    .overlay .closebtn {
        position: absolute;
        top: 20px;
        right: 45px;
        font-size: 60px;
    }

    table.dataTable thead > tr > th.sorting_asc, table.dataTable thead > tr > th.sorting_desc, table.dataTable thead > tr > th.sorting, table.dataTable thead > tr > td.sorting_asc, table.dataTable thead > tr > td.sorting_desc, table.dataTable thead > tr > td.sorting {
        padding-right: 0px;
    }

    @@media screen and (max-height: 450px) {
        .overlay a {
            font-size: 20px;
        }

        .overlay .closebtn {
            font-size: 40px;
            top: 15px;
            right: 35px;
        }
    }
</style>